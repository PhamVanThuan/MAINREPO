
using Microsoft.Scripting.Hosting;
using SAHL.Core.SystemMessages;
using Newtonsoft.Json;
using System.Collections.Generic;
using System.Linq;
using System;
using System.Reflection;
using System.Dynamic;
using SAHL.DecisionTree.Shared.Interfaces;
using SAHL.DecisionTree.Shared.Core;
using SAHL.DecisionTree.Shared.Helpers;

namespace SAHL.DecisionTree.Shared.Trees
{
    public class SAHLOriginationCreditPricing_1 : IDecisionTree
    {
        private int currentNodeId;
        private bool currentResult;
        private ScriptScope scope;
        private bool nodeExecutionResultedInError;
        private dynamic variablesCollection;
        private ISystemMessageCollection systemMessageCollection;

        private Dictionary<string, ISystemMessageCollection> SubtreeMessagesDictionary { get; set; }
        private List<string> SubtreeMessagesToClear { get; set; }
        
        public List<Link> NodeLinks {get; private set;}
        public Dictionary<int, Node> Nodes {get; private set;}
        public QueryGlobalsVersion GlobalsVersion { get; protected set; }

        public SAHLOriginationCreditPricing_1(ISystemMessageCollection messages)
        {
            this.NodeLinks = new List<Link>() { new Link(0,-7,-9,LinkType.DecisionNo), new Link(1,-1,-50,LinkType.Standard), new Link(2,-11,-7,LinkType.DecisionNo), new Link(3,-9,-45,LinkType.DecisionNo), new Link(4,-329,-330,LinkType.DecisionYes), new Link(5,-329,-11,LinkType.DecisionNo), new Link(6,-330,-331,LinkType.DecisionNo), new Link(7,-330,-11,LinkType.DecisionYes), new Link(8,1,-292,LinkType.DecisionYes), new Link(9,-276,-4,LinkType.Standard), new Link(10,-4,-35,LinkType.Standard), new Link(11,-292,-276,LinkType.DecisionYes), new Link(12,-292,-1,LinkType.DecisionNo), new Link(13,-334,-336,LinkType.Standard), new Link(14,-336,-39,LinkType.Standard), new Link(15,-11,-27,LinkType.DecisionYes), new Link(16,-27,-39,LinkType.Standard), new Link(17,-30,-2,LinkType.Standard), new Link(18,-7,-32,LinkType.DecisionYes), new Link(19,-9,-34,LinkType.DecisionYes), new Link(20,-32,-46,LinkType.Standard), new Link(21,-34,-41,LinkType.Standard), new Link(22,-35,-1,LinkType.DecisionYes), new Link(23,-35,-36,LinkType.DecisionNo), new Link(24,-36,-1,LinkType.Standard), new Link(25,-37,-33,LinkType.DecisionYes), new Link(26,-37,-38,LinkType.DecisionNo), new Link(27,-39,-3,LinkType.DecisionYes), new Link(28,-39,-37,LinkType.DecisionNo), new Link(29,-2,-334,LinkType.DecisionYes), new Link(30,-2,-42,LinkType.DecisionNo), new Link(31,-43,-44,LinkType.DecisionNo), new Link(32,-41,-334,LinkType.DecisionYes), new Link(33,-45,-40,LinkType.DecisionYes), new Link(34,-45,-40,LinkType.DecisionNo), new Link(35,-46,-334,LinkType.DecisionYes), new Link(36,-48,-49,LinkType.DecisionNo), new Link(37,-46,-43,LinkType.DecisionNo), new Link(38,-41,-43,LinkType.DecisionNo), new Link(39,-43,-48,LinkType.DecisionYes), new Link(40,-48,-5,LinkType.DecisionYes), new Link(41,-49,-47,LinkType.DecisionYes), new Link(42,-47,-30,LinkType.Standard), new Link(43,-5,-30,LinkType.Standard), new Link(44,-49,-30,LinkType.DecisionNo), new Link(45,-50,-51,LinkType.DecisionYes), new Link(46,-50,-51,LinkType.DecisionNo), new Link(47,-51,-329,LinkType.DecisionYes), new Link(48,-51,-329,LinkType.DecisionNo)};
            this.Nodes = new Dictionary<int, Node>() {{1, new Node(1,"Start",NodeType.Start,@"")},{-1, new Node(-1,"Calculate Loan Amount Property Value and Loan To Value",NodeType.Process,@"if (Variables::inputs.CapitaliseFees == true) then_newline_  fees = Variables::inputs.Fees_newline_  interiminterest = Variables::inputs.InterimInterest_newline_else_newline_  fees = 0.0_newline_  interiminterest = 0.0_newline_end_newline__newline_if Variables::inputs.ApplicationType == Enumerations::sAHomeLoans::mortgageLoanApplicationType.Switch then_newline_      Variables::outputs.LoanAmount = Variables::inputs.CurrentMortgageLoanBalance + Variables::inputs.CashAmountRequired + fees + interiminterest_newline_      Variables::outputs.PropertyValue = Variables::inputs.EstimatedMarketValueofProperty_newline_end _newline_  _newline_if Variables::inputs.ApplicationType == Enumerations::sAHomeLoans::mortgageLoanApplicationType.NewPurchase then_newline_      Variables::outputs.LoanAmount = Variables::inputs.PropertyPurchasePrice - Variables::inputs.DepositAmount_newline_      Variables::outputs.PropertyValue = Variables::inputs.PropertyPurchasePrice_newline_end _newline__newline_if Variables::outputs.PropertyValue == 0 then_newline_    Variables::outputs.LoantoValue = 9999_newline_    Messages.AddWarning(_sgl_quote_Property value cannot be zero._sgl_quote_)_newline_else  _newline_    Variables::outputs.LoantoValue =  Variables::outputs.LoanAmount / Variables::outputs.PropertyValue_newline_    Variables::outputs.LoantoValue = (Variables::outputs.LoantoValue).truncate_to(3)_newline_end_newline__newline_  Variables::outputs.LoantoValueasPercent = _sgl_quote_%.2f_sgl_quote_ % (Variables::outputs.LoantoValue * 100) + _sgl_quote_ %_sgl_quote_ ")},{-7, new Node(-7,"Household Type Income = Salaried",NodeType.Decision,@"if Variables::inputs.HouseholdIncomeType == Enumerations::sAHomeLoans::householdIncomeType.Salaried then_newline_  Variables::outputs.NodeResult = true_newline_else_newline_  Variables::outputs.NodeResult = false_newline_end")},{-9, new Node(-9,"Household Income Type = Salary with Deduction",NodeType.Decision,@"if Variables::inputs.HouseholdIncomeType == Enumerations::sAHomeLoans::householdIncomeType.SalariedwithDeduction then_newline_  Variables::outputs.NodeResult = true_newline_else_newline_  Variables::outputs.EligibleApplication = false_newline_  Variables::outputs.NodeResult = false_newline_end")},{-11, new Node(-11,"Household Income Type = Self-Employed",NodeType.Decision,@"if Variables::inputs.HouseholdIncomeType == Enumerations::sAHomeLoans::householdIncomeType.SelfEmployed then_newline_  Variables::outputs.NodeResult = true_newline_else_newline_  Variables::outputs.NodeResult = false_newline_end")},{-329, new Node(-329,"Property Occupancy Type = Investment Property",NodeType.Decision,@"if Variables::inputs.PropertyOccupancyType == Enumerations::sAHomeLoans::propertyOccupancyType.InvestmentProperty then_newline_  Variables::outputs.NodeResult = true_newline_else_newline_  Variables::outputs.NodeResult = false_newline_end")},{-330, new Node(-330,"LTV <= 80%",NodeType.Decision,@"if Variables::outputs.LoantoValue <= Variables::sAHomeLoans::newBusiness::credit.InvestmentPropertyMaximumLTV then_newline_  Variables::outputs.NodeResult = true_newline_else  _newline_  _newline_   maximumloanamount = (Variables::outputs.PropertyValue).to_f * (Variables::sAHomeLoans::newBusiness::credit.InvestmentPropertyMaximumLTV).to_f_newline_   requiredamounttolowerloanamountby = (((Variables::outputs.LoanAmount).to_f - (maximumloanamount).to_f ) + 1.0).round_newline_   maximumloantovalue = (Variables::sAHomeLoans::newBusiness::credit.InvestmentPropertyMaximumLTV * 100).truncate_to(1)_newline_ _newline_   if Variables::inputs.ApplicationType == Enumerations::sAHomeLoans::mortgageLoanApplicationType.NewPurchase then_newline_     Messages.AddWarning(Messages::sAHomeLoans::credit.NewPurchaseInvestmentPropertyLoanToValueAboveMaximum)_newline_   else_newline_     if Variables::inputs.ApplicationType == Enumerations::sAHomeLoans::mortgageLoanApplicationType.Switch then_newline_       Messages.AddWarning(Messages::sAHomeLoans::credit.SwitchInvestmentPropertyLoanToValueAboveMaximum)_newline_     else_newline_       Messages.AddWarning(Messages::sAHomeLoans::credit.LoantoValueAboveCreditMaximum)_newline_  _tab_ end _newline_  end_newline_     _newline_  Variables::outputs.EligibleApplication = false_newline_  Variables::outputs.NodeResult = false_newline_end_newline_  _newline_")},{-331, new Node(-331,"End",NodeType.End,@"")},{-276, new Node(-276,"Set inital output variables",NodeType.Process,@"Variables::outputs.ApplicationEmpirica = -999_newline_Variables::outputs.InterestRate = 0_newline_Variables::outputs.LoantoValue = 0_newline_Variables::outputs.PaymenttoIncome = 0_newline_Variables::outputs.Alpha = false_newline_Variables::outputs.PropertyValue = 0_newline_Variables::outputs.Instalment = 0_newline_Variables::outputs.InterestRateasPercent=_sgl_quote__sgl_quote__newline_Variables::outputs.LoantoValueasPercent=_sgl_quote__sgl_quote__newline_Variables::outputs.PaymenttoIncomeasPercent=_sgl_quote__sgl_quote__newline_Variables::outputs.InstallmentinRands=_sgl_quote__sgl_quote__newline_")},{-4, new SubTree("SAHL Application Credit Policy","1","[    {      \"id\": \"1\",      \"type\": \"int\",      \"usage\": \"input\",      \"name\": \"First Income Contributor Applicant Empirica\",      \"parentVariable\": {        \"name\": \"First Income Contributor Applicant Empirica\",        \"usage\": \"input\"      }    },    {      \"id\": \"2\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"First Income Contributor Applicant Income\",      \"parentVariable\": {        \"name\": \"First Income Contributor Applicant Income\",        \"usage\": \"input\"      }    },    {      \"id\": \"3\",      \"type\": \"int\",      \"usage\": \"input\",      \"name\": \"Second Income Contributor Applicant Empirica\",      \"parentVariable\": {        \"name\": \"Second Income Contributor Applicant Empirica\",        \"usage\": \"input\"      }    },    {      \"id\": \"4\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Second Income Contributor Applicant Income\",      \"parentVariable\": {        \"name\": \"Second Income Contributor Applicant Income\",        \"usage\": \"input\"      }    },    {      \"id\": \"5\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Household Income\",      \"parentVariable\": {        \"name\": \"Household Income\",        \"usage\": \"input\"      }    },    {      \"id\": \"6\",      \"type\": \"int\",      \"usage\": \"output\",      \"name\": \"Application Empirica\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Application Empirica\",        \"usage\": \"output\"      }    },    {      \"id\": \"7\",      \"type\": \"int\",      \"usage\": \"input\",      \"name\": \"Youngest Applicant Age in Years\",      \"parentVariable\": {        \"name\": \"Youngest Applicant Age\",        \"usage\": \"input\"      }    },    {      \"id\": \"8\",      \"type\": \"int\",      \"usage\": \"input\",      \"name\": \"Eldest Applicant Age in Years\",      \"parentVariable\": {        \"name\": \"Eldest Applicant Age\",        \"usage\": \"input\"      }    },    {      \"id\": \"9\",      \"type\": \"bool\",      \"usage\": \"output\",      \"name\": \"Eligible Borrower Age\",      \"defaultValue\": false,      \"parentVariable\": {        \"name\": \"Eligible Borrower Age\",        \"usage\": \"output\"      }    },    {      \"id\": \"10\",      \"type\": \"bool\",      \"usage\": \"output\",      \"name\": \"Eligible Empirica\",      \"defaultValue\": false,      \"parentVariable\": {        \"name\": \"Eligible Empirica\",        \"usage\": \"output\"      }    }  ]",-4)},{-292, new Node(-292,"Income Contributing Applicant Information Available",NodeType.Decision,@"if (Variables::inputs.FirstIncomeContributorApplicantEmpirica == -999 && Variables::inputs.FirstIncomeContributorApplicantIncome == -1.0 && Variables::inputs.SecondIncomeContributorApplicantEmpirica == -999 && Variables::inputs.SecondIncomeContributorApplicantIncome == -1.0) then _newline_  Variables::outputs.EligibleApplication = false_newline_  Variables::outputs.EligibleBorrowerAge = false_newline_  Variables::outputs.EligibleEmpirica = false_newline_  Variables::outputs.ApplicationEmpirica = -999_newline_  Variables::outputs.InterestRate = 0_newline_  Variables::outputs.LoantoValue = 0_newline_  Variables::outputs.PaymenttoIncome = 0_newline_  Variables::outputs.Alpha = false_newline_  Variables::outputs.PropertyValue = 0_newline_  Variables::outputs.Instalment = 0_newline_  Variables::outputs.NodeResult = false_newline_else_newline_    Variables::outputs.NodeResult = true_newline_end")},{-334, new SubTree("SAHL Origination Pricing for Risk","1","[    {      \"id\": \"1\",      \"type\": \"int\",      \"usage\": \"input\",      \"name\": \"Application Empirica\",      \"parentVariable\": {        \"name\": \"Application Empirica\",        \"usage\": \"output\"      }    },    {      \"id\": \"2\",      \"type\": \"SAHomeLoans::Credit::CreditMatrixCategory\",      \"usage\": \"input\",      \"name\": \"Credit Matrix Category\",      \"defaultValue\": {        \"group\": \"Enumerations::sAHomeLoans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sAHomeLoans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Credit Matrix Category\",        \"usage\": \"output\"      }    },    {      \"id\": \"3\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Link Rate Adjustment\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Link Rate Adjustment\",        \"usage\": \"output\"      }    },    {      \"id\": \"4\",      \"type\": \"SAHomeLoans::HouseholdIncomeType\",      \"usage\": \"input\",      \"name\": \"Household Income Type\",      \"defaultValue\": {        \"group\": \"Enumerations::sAHomeLoans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sAHomeLoans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Household Income Type\",        \"usage\": \"input\"      }    }  ]",-334)},{-336, new Node(-336,"Calculate Interest Rate",NodeType.Process,@"Variables::outputs.InterestRate =  Variables::outputs.InterestRate + Variables::subtrees::sAHLOriginationPricingforRisk::outputs.LinkRateAdjustment_newline__newline_Variables::outputs.Instalment = ((Variables::outputs.InterestRate / 12.0) + ((Variables::outputs.InterestRate / 12.0) / ((((Variables::outputs.InterestRate / 12.0).to_f + 1.0) ** Variables::inputs.TermInMonth) - 1))) * Variables::outputs.LoanAmount_newline_Variables::outputs.PaymenttoIncome = Variables::outputs.Instalment / Variables::inputs.HouseholdIncome _newline_Variables::outputs.PaymenttoIncome = (Variables::outputs.PaymenttoIncome).truncate_to(3)_newline_Variables::outputs.LoantoValueasPercent = _sgl_quote_%.2f_sgl_quote_ % (((Variables::outputs.LoantoValue * 10000.0).to_i) / 100.0).to_f + _sgl_quote_%_sgl_quote__newline__newline_Variables::outputs.InterestRateasPercent =  _sgl_quote_%.2f_sgl_quote_ % (((Variables::outputs.InterestRate  * 10000.0).to_i) / 100.0).to_f + _sgl_quote_%_sgl_quote__newline_Variables::outputs.PaymenttoIncomeasPercent = _sgl_quote_%.2f_sgl_quote_ % (((Variables::outputs.PaymenttoIncome * 10000.0).to_i) / 100.0).to_f + _sgl_quote_%_sgl_quote__newline_Variables::outputs.InstallmentinRands = _sgl_quote_%.2f_sgl_quote_ % Variables::outputs.Instalment_newline_")},{-27, new SubTree("SAHL Self-Employed Credit Pricing","1","[    {      \"id\": \"1\",      \"type\": \"SAHomeLoans::MortgageLoanApplicationType\",      \"usage\": \"input\",      \"name\": \"Application Type\",      \"defaultValue\": {        \"group\": \"Enumerations::sAHomeLoans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sAHomeLoans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Application Type\",        \"usage\": \"input\"      }    },    {      \"id\": \"2\",      \"type\": \"SAHomeLoans::PropertyOccupancyType\",      \"usage\": \"input\",      \"name\": \"Property Occupancy Type\",      \"defaultValue\": {        \"group\": \"Enumerations::sAHomeLoans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sAHomeLoans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Property Occupancy Type\",        \"usage\": \"input\"      }    },    {      \"id\": \"3\",      \"type\": \"SAHomeLoans::HouseholdIncomeType\",      \"usage\": \"input\",      \"name\": \"Household Income Type\",      \"defaultValue\": {        \"group\": \"Enumerations::sAHomeLoans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sAHomeLoans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Household Income Type\",        \"usage\": \"input\"      }    },    {      \"id\": \"4\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Household Income\",      \"parentVariable\": {        \"name\": \"Household Income\",        \"usage\": \"input\"      }    },    {      \"id\": \"5\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Property Purchase Price\",      \"parentVariable\": {        \"name\": \"Property Purchase Price\",        \"usage\": \"input\"      }    },    {      \"id\": \"6\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Deposit Amount\",      \"parentVariable\": {        \"name\": \"Deposit Amount\",        \"usage\": \"input\"      }    },    {      \"id\": \"7\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Cash Amount Required\",      \"parentVariable\": {        \"name\": \"Cash Amount Required\",        \"usage\": \"input\"      }    },    {      \"id\": \"8\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Current Mortgage Loan Balance\",      \"parentVariable\": {        \"name\": \"Current Mortgage Loan Balance\",        \"usage\": \"input\"      }    },    {      \"id\": \"9\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Estimated Market Value of Property\",      \"parentVariable\": {        \"name\": \"Estimated Market Value of Property\",        \"usage\": \"input\"      }    },    {      \"id\": \"10\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Interest Rate\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Interest Rate\",        \"usage\": \"output\"      }    },    {      \"id\": \"12\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Loan to Value\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Loan to Value\",        \"usage\": \"output\"      }    },    {      \"id\": \"13\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Loan Amount\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Loan Amount\",        \"usage\": \"output\"      }    },    {      \"id\": \"17\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Payment to Income\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Payment to Income\",        \"usage\": \"output\"      }    },    {      \"id\": \"18\",      \"type\": \"SAHomeLoans::Credit::CreditMatrixCategory\",      \"usage\": \"output\",      \"name\": \"Credit Matrix Category\",      \"defaultValue\": {        \"group\": \"Enumerations::sAHomeLoans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sAHomeLoans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Credit Matrix Category\",        \"usage\": \"output\"      }    },    {      \"id\": \"19\",      \"type\": \"bool\",      \"usage\": \"output\",      \"name\": \"Alpha\",      \"defaultValue\": false,      \"parentVariable\": {        \"name\": \"Alpha\",        \"usage\": \"output\"      }    },    {      \"id\": \"20\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Property Value\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Property Value\",        \"usage\": \"output\"      }    },    {      \"id\": \"21\",      \"type\": \"int\",      \"usage\": \"input\",      \"name\": \"Term In Month\",      \"parentVariable\": {        \"name\": \"Term In Month\",        \"usage\": \"input\"      }    },    {      \"id\": \"22\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Instalment\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Instalment\",        \"usage\": \"output\"      }    },    {      \"id\": \"27\",      \"type\": \"int\",      \"usage\": \"input\",      \"name\": \"Application Empirica\",      \"parentVariable\": {        \"name\": \"Application Empirica\",        \"usage\": \"output\"      }    },    {      \"id\": \"31\",      \"type\": \"bool\",      \"usage\": \"output\",      \"name\": \"Eligible Application\",      \"defaultValue\": false,      \"parentVariable\": {        \"name\": \"Eligible Application\",        \"usage\": \"output\"      }    },    {      \"id\": \"37\",      \"type\": \"string\",      \"usage\": \"output\",      \"name\": \"Interest Rate as Percent\",      \"defaultValue\": \"\",      \"parentVariable\": {        \"name\": \"Interest Rate as Percent\",        \"usage\": \"output\"      }    },    {      \"id\": \"38\",      \"type\": \"string\",      \"usage\": \"output\",      \"name\": \"Loan to Value as Percent\",      \"defaultValue\": \"\",      \"parentVariable\": {        \"name\": \"Loan to Value as Percent\",        \"usage\": \"output\"      }    },    {      \"id\": \"39\",      \"type\": \"string\",      \"usage\": \"output\",      \"name\": \"Payment to Income as Percent\",      \"defaultValue\": \"\",      \"parentVariable\": {        \"name\": \"Payment to Income as Percent\",        \"usage\": \"output\"      }    },    {      \"id\": \"40\",      \"type\": \"string\",      \"usage\": \"output\",      \"name\": \"Installment in Rands\",      \"defaultValue\": \"\",      \"parentVariable\": {        \"name\": \"Installment in Rands\",        \"usage\": \"output\"      }    },    {      \"id\": \"41\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Link Rate\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Link Rate\",        \"usage\": \"output\"      }    },    {      \"id\": \"42\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Fees\",      \"parentVariable\": {        \"name\": \"Fees\",        \"usage\": \"input\"      }    },    {      \"id\": \"43\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Interim Interest\",      \"parentVariable\": {        \"name\": \"Interim Interest\",        \"usage\": \"input\"      }    },    {      \"id\": \"44\",      \"type\": \"bool\",      \"usage\": \"input\",      \"name\": \"Capitalise Fees\",      \"parentVariable\": {        \"name\": \"Capitalise Fees\",        \"usage\": \"input\"      }    }  ]",-27)},{-30, new SubTree("SAHL Alpha Credit Pricing","1","[    {      \"id\": \"1\",      \"type\": \"SAHomeLoans::MortgageLoanApplicationType\",      \"usage\": \"input\",      \"name\": \"Application Type\",      \"defaultValue\": {        \"group\": \"Enumerations::sA Home Loans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sA Home Loans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Application Type\",        \"usage\": \"input\"      }    },    {      \"id\": \"2\",      \"type\": \"SAHomeLoans::PropertyOccupancyType\",      \"usage\": \"input\",      \"name\": \"Property Occupancy Type\",      \"defaultValue\": {        \"group\": \"Enumerations::sA Home Loans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sA Home Loans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Property Occupancy Type\",        \"usage\": \"input\"      }    },    {      \"id\": \"3\",      \"type\": \"SAHomeLoans::HouseholdIncomeType\",      \"usage\": \"input\",      \"name\": \"Household Income Type\",      \"defaultValue\": {        \"group\": \"Enumerations::sA Home Loans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sA Home Loans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Household Income Type\",        \"usage\": \"input\"      }    },    {      \"id\": \"4\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Household Income\",      \"parentVariable\": {        \"name\": \"Household Income\",        \"usage\": \"input\"      }    },    {      \"id\": \"5\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Property Purchase Price\",      \"parentVariable\": {        \"name\": \"Property Purchase Price\",        \"usage\": \"input\"      }    },    {      \"id\": \"6\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Deposit Amount\",      \"parentVariable\": {        \"name\": \"Deposit Amount\",        \"usage\": \"input\"      }    },    {      \"id\": \"7\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Cash Amount Required\",      \"parentVariable\": {        \"name\": \"Cash Amount Required\",        \"usage\": \"input\"      }    },    {      \"id\": \"8\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Current Mortgage Loan Balance\",      \"parentVariable\": {        \"name\": \"Current Mortgage Loan Balance\",        \"usage\": \"input\"      }    },    {      \"id\": \"9\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Estimated Market Value of Property\",      \"parentVariable\": {        \"name\": \"Estimated Market Value of Property\",        \"usage\": \"input\"      }    },    {      \"id\": \"10\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Interest Rate\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Interest Rate\",        \"usage\": \"output\"      }    },    {      \"id\": \"12\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Loan to Value\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Loan to Value\",        \"usage\": \"output\"      }    },    {      \"id\": \"13\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Loan Amount\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Loan Amount\",        \"usage\": \"output\"      }    },    {      \"id\": \"17\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Payment to Income\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Payment to Income\",        \"usage\": \"output\"      }    },    {      \"id\": \"18\",      \"type\": \"SAHomeLoans::Credit::CreditMatrixCategory\",      \"usage\": \"output\",      \"name\": \"Credit Matrix Category\",      \"defaultValue\": {        \"group\": \"Enumerations::sA Home Loans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sA Home Loans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Credit Matrix Category\",        \"usage\": \"output\"      }    },    {      \"id\": \"19\",      \"type\": \"bool\",      \"usage\": \"output\",      \"name\": \"Alpha\",      \"defaultValue\": false,      \"parentVariable\": {        \"name\": \"Alpha\",        \"usage\": \"output\"      }    },    {      \"id\": \"20\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Property Value\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Property Value\",        \"usage\": \"output\"      }    },    {      \"id\": \"21\",      \"type\": \"int\",      \"usage\": \"input\",      \"name\": \"Term In Month\",      \"parentVariable\": {        \"name\": \"Term In Month\",        \"usage\": \"input\"      }    },    {      \"id\": \"22\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Instalment\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Instalment\",        \"usage\": \"output\"      }    },    {      \"id\": \"27\",      \"type\": \"int\",      \"usage\": \"input\",      \"name\": \"Application Empirica\",      \"parentVariable\": {        \"name\": \"Application Empirica\",        \"usage\": \"output\"      }    },    {      \"id\": \"31\",      \"type\": \"bool\",      \"usage\": \"output\",      \"name\": \"Eligible Application\",      \"defaultValue\": false,      \"parentVariable\": {        \"name\": \"Eligible Application\",        \"usage\": \"output\"      }    },    {      \"id\": \"37\",      \"type\": \"string\",      \"usage\": \"output\",      \"name\": \"Interest Rate as Percent\",      \"defaultValue\": \"\",      \"parentVariable\": {        \"name\": \"Interest Rate as Percent\",        \"usage\": \"output\"      }    },    {      \"id\": \"38\",      \"type\": \"string\",      \"usage\": \"output\",      \"name\": \"Loan to Value as Percent\",      \"defaultValue\": \"\",      \"parentVariable\": {        \"name\": \"Loan to Value as Percent\",        \"usage\": \"output\"      }    },    {      \"id\": \"39\",      \"type\": \"string\",      \"usage\": \"output\",      \"name\": \"Payment to Income as Percent\",      \"defaultValue\": \"\",      \"parentVariable\": {        \"name\": \"Payment to Income as Percent\",        \"usage\": \"output\"      }    },    {      \"id\": \"40\",      \"type\": \"string\",      \"usage\": \"output\",      \"name\": \"Installment in Rands\",      \"defaultValue\": \"\",      \"parentVariable\": {        \"name\": \"Installment in Rands\",        \"usage\": \"output\"      }    },    {      \"id\": \"41\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Link Rate\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Link Rate\",        \"usage\": \"output\"      }    },    {      \"id\": \"42\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Fees\",      \"parentVariable\": {        \"name\": \"Fees\",        \"usage\": \"input\"      }    },    {      \"id\": \"43\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Interim Interest\",      \"parentVariable\": {        \"name\": \"Interim Interest\",        \"usage\": \"input\"      }    },    {      \"id\": \"44\",      \"type\": \"bool\",      \"usage\": \"input\",      \"name\": \"Capitalise Fees\",      \"parentVariable\": {        \"name\": \"Capitalise Fees\",        \"usage\": \"input\"      }    }  ]",-30)},{-2, new Node(-2,"Is Alpha",NodeType.Decision,@"if (Variables::outputs.Alpha == true and Variables::outputs.EligibleApplication == true) then_newline_  Variables::outputs.NodeResult = true_newline_else_newline_  Variables::outputs.InterestRate = 0.00_newline_  Variables::outputs.Alpha = false _newline_  Variables::outputs.EligibleApplication = false_newline_  Variables::outputs.Instalment = 0.00_newline_  Variables::outputs.PaymenttoIncome = 0.00_newline_  Variables::outputs.NodeResult = false_newline_end")},{-32, new SubTree("SAHL Salaried Credit Pricing","1","[    {      \"id\": \"1\",      \"type\": \"SAHomeLoans::MortgageLoanApplicationType\",      \"usage\": \"input\",      \"name\": \"Application Type\",      \"defaultValue\": {        \"group\": \"Enumerations::sAHomeLoans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sAHomeLoans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Application Type\",        \"usage\": \"input\"      }    },    {      \"id\": \"2\",      \"type\": \"SAHomeLoans::PropertyOccupancyType\",      \"usage\": \"input\",      \"name\": \"Property Occupancy Type\",      \"defaultValue\": {        \"group\": \"Enumerations::sAHomeLoans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sAHomeLoans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Property Occupancy Type\",        \"usage\": \"input\"      }    },    {      \"id\": \"3\",      \"type\": \"SAHomeLoans::HouseholdIncomeType\",      \"usage\": \"input\",      \"name\": \"Household Income Type\",      \"defaultValue\": {        \"group\": \"Enumerations::sAHomeLoans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sAHomeLoans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Household Income Type\",        \"usage\": \"input\"      }    },    {      \"id\": \"4\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Household Income\",      \"parentVariable\": {        \"name\": \"Household Income\",        \"usage\": \"input\"      }    },    {      \"id\": \"5\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Property Purchase Price\",      \"parentVariable\": {        \"name\": \"Property Purchase Price\",        \"usage\": \"input\"      }    },    {      \"id\": \"6\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Deposit Amount\",      \"parentVariable\": {        \"name\": \"Deposit Amount\",        \"usage\": \"input\"      }    },    {      \"id\": \"7\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Cash Amount Required\",      \"parentVariable\": {        \"name\": \"Cash Amount Required\",        \"usage\": \"input\"      }    },    {      \"id\": \"8\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Current Mortgage Loan Balance\",      \"parentVariable\": {        \"name\": \"Current Mortgage Loan Balance\",        \"usage\": \"input\"      }    },    {      \"id\": \"9\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Estimated Market Value of Property\",      \"parentVariable\": {        \"name\": \"Estimated Market Value of Property\",        \"usage\": \"input\"      }    },    {      \"id\": \"10\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Interest Rate\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Interest Rate\",        \"usage\": \"output\"      }    },    {      \"id\": \"12\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Loan to Value\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Loan to Value\",        \"usage\": \"output\"      }    },    {      \"id\": \"13\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Loan Amount\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Loan Amount\",        \"usage\": \"output\"      }    },    {      \"id\": \"17\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Payment to Income\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Payment to Income\",        \"usage\": \"output\"      }    },    {      \"id\": \"18\",      \"type\": \"SAHomeLoans::Credit::CreditMatrixCategory\",      \"usage\": \"output\",      \"name\": \"Credit Matrix Category\",      \"defaultValue\": {        \"group\": \"Enumerations::sAHomeLoans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sAHomeLoans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Credit Matrix Category\",        \"usage\": \"output\"      }    },    {      \"id\": \"19\",      \"type\": \"bool\",      \"usage\": \"output\",      \"name\": \"Alpha\",      \"defaultValue\": false,      \"parentVariable\": {        \"name\": \"Alpha\",        \"usage\": \"output\"      }    },    {      \"id\": \"20\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Property Value\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Property Value\",        \"usage\": \"output\"      }    },    {      \"id\": \"21\",      \"type\": \"int\",      \"usage\": \"input\",      \"name\": \"Term In Month\",      \"parentVariable\": {        \"name\": \"Term In Month\",        \"usage\": \"input\"      }    },    {      \"id\": \"22\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Instalment\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Instalment\",        \"usage\": \"output\"      }    },    {      \"id\": \"27\",      \"type\": \"int\",      \"usage\": \"input\",      \"name\": \"Application Empirica\",      \"parentVariable\": {        \"name\": \"Application Empirica\",        \"usage\": \"output\"      }    },    {      \"id\": \"31\",      \"type\": \"bool\",      \"usage\": \"output\",      \"name\": \"Eligible Application\",      \"defaultValue\": false,      \"parentVariable\": {        \"name\": \"Eligible Application\",        \"usage\": \"output\"      }    },    {      \"id\": \"37\",      \"type\": \"string\",      \"usage\": \"output\",      \"name\": \"Interest Rate as Percent\",      \"defaultValue\": \"\",      \"parentVariable\": {        \"name\": \"Interest Rate as Percent\",        \"usage\": \"output\"      }    },    {      \"id\": \"38\",      \"type\": \"string\",      \"usage\": \"output\",      \"name\": \"Loan to Value as Percent\",      \"defaultValue\": \"\",      \"parentVariable\": {        \"name\": \"Loan to Value as Percent\",        \"usage\": \"output\"      }    },    {      \"id\": \"39\",      \"type\": \"string\",      \"usage\": \"output\",      \"name\": \"Payment to Income as Percent\",      \"defaultValue\": \"\",      \"parentVariable\": {        \"name\": \"Payment to Income as Percent\",        \"usage\": \"output\"      }    },    {      \"id\": \"40\",      \"type\": \"string\",      \"usage\": \"output\",      \"name\": \"Installment in Rands\",      \"defaultValue\": \"\",      \"parentVariable\": {        \"name\": \"Installment in Rands\",        \"usage\": \"output\"      }    },    {      \"id\": \"41\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Link Rate\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Link Rate\",        \"usage\": \"output\"      }    },    {      \"id\": \"42\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Fees\",      \"parentVariable\": {        \"name\": \"Fees\",        \"usage\": \"input\"      }    },    {      \"id\": \"43\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Interim Interest\",      \"parentVariable\": {        \"name\": \"Interim Interest\",        \"usage\": \"input\"      }    },    {      \"id\": \"44\",      \"type\": \"bool\",      \"usage\": \"input\",      \"name\": \"Capitalise Fees\",      \"parentVariable\": {        \"name\": \"Capitalise Fees\",        \"usage\": \"input\"      }    }  ]",-32)},{-34, new SubTree("SAHL Salaried with Deduction Credit Pricing","1","[    {      \"id\": \"1\",      \"type\": \"SAHomeLoans::MortgageLoanApplicationType\",      \"usage\": \"input\",      \"name\": \"Application Type\",      \"defaultValue\": {        \"group\": \"Enumerations::sAHomeLoans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sAHomeLoans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Application Type\",        \"usage\": \"input\"      }    },    {      \"id\": \"2\",      \"type\": \"SAHomeLoans::PropertyOccupancyType\",      \"usage\": \"input\",      \"name\": \"Property Occupancy Type\",      \"defaultValue\": {        \"group\": \"Enumerations::sAHomeLoans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sAHomeLoans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Property Occupancy Type\",        \"usage\": \"input\"      }    },    {      \"id\": \"3\",      \"type\": \"SAHomeLoans::HouseholdIncomeType\",      \"usage\": \"input\",      \"name\": \"Household Income Type\",      \"defaultValue\": {        \"group\": \"Enumerations::sAHomeLoans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sAHomeLoans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Household Income Type\",        \"usage\": \"input\"      }    },    {      \"id\": \"4\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Household Income\",      \"parentVariable\": {        \"name\": \"Household Income\",        \"usage\": \"input\"      }    },    {      \"id\": \"5\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Property Purchase Price\",      \"parentVariable\": {        \"name\": \"Property Purchase Price\",        \"usage\": \"input\"      }    },    {      \"id\": \"6\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Deposit Amount\",      \"parentVariable\": {        \"name\": \"Deposit Amount\",        \"usage\": \"input\"      }    },    {      \"id\": \"7\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Cash Amount Required\",      \"parentVariable\": {        \"name\": \"Cash Amount Required\",        \"usage\": \"input\"      }    },    {      \"id\": \"8\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Current Mortgage Loan Balance\",      \"parentVariable\": {        \"name\": \"Current Mortgage Loan Balance\",        \"usage\": \"input\"      }    },    {      \"id\": \"9\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Estimated Market Value of Property\",      \"parentVariable\": {        \"name\": \"Estimated Market Value of Property\",        \"usage\": \"input\"      }    },    {      \"id\": \"10\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Interest Rate\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Interest Rate\",        \"usage\": \"output\"      }    },    {      \"id\": \"12\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Loan to Value\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Loan to Value\",        \"usage\": \"output\"      }    },    {      \"id\": \"13\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Loan Amount\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Loan Amount\",        \"usage\": \"output\"      }    },    {      \"id\": \"17\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Payment to Income\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Payment to Income\",        \"usage\": \"output\"      }    },    {      \"id\": \"18\",      \"type\": \"SAHomeLoans::Credit::CreditMatrixCategory\",      \"usage\": \"output\",      \"name\": \"Credit Matrix Category\",      \"defaultValue\": {        \"group\": \"Enumerations::sAHomeLoans::defaultEnumValue\",        \"name\": \"Unknown\",        \"value\": \"Enumerations::sAHomeLoans::defaultEnumValue.Unknown\"      },      \"parentVariable\": {        \"name\": \"Credit Matrix Category\",        \"usage\": \"output\"      }    },    {      \"id\": \"19\",      \"type\": \"bool\",      \"usage\": \"output\",      \"name\": \"Alpha\",      \"defaultValue\": false,      \"parentVariable\": {        \"name\": \"Alpha\",        \"usage\": \"output\"      }    },    {      \"id\": \"20\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Property Value\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Property Value\",        \"usage\": \"output\"      }    },    {      \"id\": \"21\",      \"type\": \"int\",      \"usage\": \"input\",      \"name\": \"Term In Month\",      \"parentVariable\": {        \"name\": \"Term In Month\",        \"usage\": \"input\"      }    },    {      \"id\": \"22\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Instalment\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Instalment\",        \"usage\": \"output\"      }    },    {      \"id\": \"29\",      \"type\": \"int\",      \"usage\": \"input\",      \"name\": \"Application Empirica\",      \"parentVariable\": {        \"name\": \"Application Empirica\",        \"usage\": \"output\"      }    },    {      \"id\": \"33\",      \"type\": \"bool\",      \"usage\": \"output\",      \"name\": \"Eligible Application\",      \"defaultValue\": false,      \"parentVariable\": {        \"name\": \"Eligible Application\",        \"usage\": \"output\"      }    },    {      \"id\": \"37\",      \"type\": \"string\",      \"usage\": \"output\",      \"name\": \"Interest Rate as Percent\",      \"defaultValue\": \"\",      \"parentVariable\": {        \"name\": \"Interest Rate as Percent\",        \"usage\": \"output\"      }    },    {      \"id\": \"38\",      \"type\": \"string\",      \"usage\": \"output\",      \"name\": \"Loan to Value as Percent\",      \"defaultValue\": \"\",      \"parentVariable\": {        \"name\": \"Loan to Value as Percent\",        \"usage\": \"output\"      }    },    {      \"id\": \"39\",      \"type\": \"string\",      \"usage\": \"output\",      \"name\": \"Payment to Income as Percent\",      \"defaultValue\": \"\",      \"parentVariable\": {        \"name\": \"Payment to Income as Percent\",        \"usage\": \"output\"      }    },    {      \"id\": \"40\",      \"type\": \"string\",      \"usage\": \"output\",      \"name\": \"Installment in Rands\",      \"defaultValue\": \"\",      \"parentVariable\": {        \"name\": \"Installment in Rands\",        \"usage\": \"output\"      }    },    {      \"id\": \"41\",      \"type\": \"float\",      \"usage\": \"output\",      \"name\": \"Link Rate\",      \"defaultValue\": 0,      \"parentVariable\": {        \"name\": \"Link Rate\",        \"usage\": \"output\"      }    },    {      \"id\": \"42\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Fees\",      \"parentVariable\": {        \"name\": \"Fees\",        \"usage\": \"input\"      }    },    {      \"id\": \"43\",      \"type\": \"float\",      \"usage\": \"input\",      \"name\": \"Interim Interest\",      \"parentVariable\": {        \"name\": \"Interim Interest\",        \"usage\": \"input\"      }    },    {      \"id\": \"44\",      \"type\": \"bool\",      \"usage\": \"input\",      \"name\": \"Capitalise Fees\",      \"parentVariable\": {        \"name\": \"Capitalise Fees\",        \"usage\": \"input\"      }    }  ]",-34)},{-33, new Node(-33,"End",NodeType.End,@"")},{-35, new Node(-35,"Eligible Empirica is true",NodeType.Decision,@"if Variables::outputs.EligibleEmpirica == true then_newline_  Variables::outputs.NodeResult = true_newline_else_newline_  if (Variables::inputs.FirstIncomeContributorApplicantEmpirica == -999 && Variables::inputs.SecondIncomeContributorApplicantEmpirica == -999) then_newline_    Variables::outputs.EligibleApplication = false_newline_  else_newline_    Variables::outputs.EligibleApplication = false_newline__tab_Messages.AddWarning(Messages::sAHomeLoans::credit.ApplicantMinimumEmpirica)_newline_  end_newline_  Variables::outputs.NodeResult = false_newline_end")},{-36, new Node(-36,"Set for affordability pricing",NodeType.Process,@"Variables::outputs.ApplicationEmpirica = -999")},{-37, new Node(-37,"Eligible Borrower or Eligible Borrower Age or Eligible Application Empirica false",NodeType.Decision,@"if  Variables::inputs.EligibleBorrower == false || Variables::outputs.EligibleBorrowerAge == false || Variables::outputs.EligibleEmpirica == false then_newline_  Variables::outputs.EligibleApplication = false_newline_  Variables::outputs.NodeResult = true_newline_else _newline_  Variables::outputs.NodeResult = false_newline_end")},{-38, new Node(-38,"End",NodeType.End,@"")},{-39, new Node(-39,"Affordability query only?",NodeType.Decision,@"if (Variables::inputs.FirstIncomeContributorApplicantEmpirica == -999 && Variables::inputs.FirstIncomeContributorApplicantIncome == -1.0 && Variables::inputs.SecondIncomeContributorApplicantEmpirica == -999 && Variables::inputs.SecondIncomeContributorApplicantIncome == -1.0) then _newline_  if(Variables::outputs.EligibleBorrowerAge == false)_newline_    Variables::outputs.EligibleApplication = false_newline_  end_newline_  Variables::outputs.NodeResult = true_newline_else_newline_  Variables::outputs.NodeResult = false_newline_end")},{-3, new Node(-3,"End",NodeType.End,@"")},{-40, new Node(-40,"End",NodeType.End,@"")},{-41, new Node(-41,"Eligible Application is true",NodeType.Decision,@"if Variables::outputs.EligibleApplication == true then_newline_  Variables::outputs.NodeResult = true_newline_else_newline_  Variables::outputs.NodeResult = false_newline_end")},{-42, new Node(-42,"End",NodeType.End,@"")},{-43, new Node(-43,"Household Income >= Alpha household income minimum AND Household Income <= Alpha household income maximum",NodeType.Decision,@"if (Variables::inputs.HouseholdIncome >=  Variables::sAHomeLoans::newBusiness::credit::alpha.MinimumHouseholdIncome && Variables::inputs.HouseholdIncome <=  Variables::sAHomeLoans::newBusiness::credit::alpha.MaximumHouseholdIncome)  then_newline_  Variables::outputs.NodeResult = true_newline_else_newline_  Variables::outputs.NodeResult = false_newline_end")},{-44, new Node(-44,"End",NodeType.End,@"")},{-45, new Node(-45,"Household Income Type = Unemployed",NodeType.Decision,@"if Variables::inputs.HouseholdIncomeType == Enumerations::sAHomeLoans::householdIncomeType.Unemployed then_newline_  Variables::outputs.NodeResult = true_newline_  Messages.AddWarning(Messages::sAHomeLoans::credit.HouseholdIncomeTypeIsUnemployed)_newline_else_newline_  Messages.AddWarning(_sgl_quote_Household Income Type is required._sgl_quote_)_newline_  Variables::outputs.EligibleApplication = false_newline_  Variables::outputs.NodeResult = false_newline_end")},{-46, new Node(-46,"Eligible Application is true",NodeType.Decision,@"if Variables::outputs.EligibleApplication == true then_newline_  Variables::outputs.NodeResult = true_newline_else_newline_  Variables::outputs.NodeResult = false_newline_end")},{-5, new ClearMessages("SAHL Salaried Credit Pricing","1",-5,"Clear Salaried Messages")},{-47, new ClearMessages("SAHL Salaried with Deduction Credit Pricing","1",-47,"Clear Salaried with Deduction Messages")},{-48, new Node(-48,"Household Type Income = Salaried",NodeType.Decision,@"if Variables::inputs.HouseholdIncomeType == Enumerations::sAHomeLoans::householdIncomeType.Salaried then_newline_  Variables::outputs.NodeResult = true_newline_else_newline_  Variables::outputs.NodeResult = false_newline_end")},{-49, new Node(-49,"Household Income Type = Salary with Deduction",NodeType.Decision,@"if Variables::inputs.HouseholdIncomeType == Enumerations::sAHomeLoans::householdIncomeType.SalariedwithDeduction then_newline_  Variables::outputs.NodeResult = true_newline_else_newline_  Variables::outputs.EligibleApplication = false_newline_  Variables::outputs.NodeResult = false_newline_end")},{-50, new Node(-50,"Youngest Applicant age >= 18 years <= 65",NodeType.Decision,@"if ((Variables::inputs.YoungestApplicantAge <= 65 && Variables::inputs.YoungestApplicantAge >=18) || Variables::inputs.YoungestApplicantAge == -1) then_newline_  Variables::outputs.NodeResult = true_newline_  Variables::outputs.EligibleBorrowerAge = true_newline_else_newline_  Messages.AddWarning(Messages::sAHomeLoans::credit.ApplicantAgeLimit)  _newline_  Variables::outputs.EligibleBorrowerAge = false_newline_  Variables::outputs.EligibleEmpirica = false_newline_  Variables::outputs.NodeResult = false_newline_end")},{-51, new Node(-51,"Eldest Applicant age >= 18 years <= 65",NodeType.Decision,@"if ((Variables::inputs.EldestApplicantAge <= 65 && Variables::inputs.EldestApplicantAge >= 18) ||  Variables::inputs.EldestApplicantAge == -1) then_newline_  Variables::outputs.NodeResult = true_newline_  Variables::outputs.EligibleBorrowerAge = true_newline_else_newline_  Messages.AddWarning(Messages::sAHomeLoans::credit.ApplicantAgeLimit)_newline_  Variables::outputs.EligibleBorrowerAge = false_newline_  Variables::outputs.EligibleEmpirica = false_newline_  Variables::outputs.NodeResult = false_newline_end_newline_")}};
            this.systemMessageCollection = messages;
            SubtreeMessagesDictionary = new Dictionary<string, ISystemMessageCollection>();
            SubtreeMessagesToClear = new List<string>();
        }		
    }
}