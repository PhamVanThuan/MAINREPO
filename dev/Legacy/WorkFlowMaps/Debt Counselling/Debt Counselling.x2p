<?xml version="1.0" encoding="utf-8"?>
<ProcessName Name="Debt Counselling" ProductVersion="0.3" MapVersion="0.0.0.0" Retrieved="false">
  <WorkFlows>
    <WorkFlow WorkFlowName="Debt Counselling" LocationX="20" LocationY="70" GenericKeyTypeKey="27">
      <CustomVariables>
        <CustomVariable Name="DebtCounsellingKey" Length="0" Type="integer" />
        <CustomVariable Name="AccountKey" Length="0" Type="integer" />
        <CustomVariable Name="SentToLitigation" Length="0" Type="bool" />
        <CustomVariable Name="AssignADUserName" Length="255" Type="string" />
        <CustomVariable Name="AssignWorkflowRoleTypeKey" Length="0" Type="integer" />
        <CustomVariable Name="PreviousState" Length="255" Type="string" />
        <CustomVariable Name="CourtCase" Length="0" Type="bool" />
        <CustomVariable Name="LatestReasonDefinitionKey" Length="0" Type="integer" />
        <CustomVariable Name="ProductKey" Length="0" Type="integer" />
        <CustomVariable Name="GenericKey" Length="0" Type="integer" />
      </CustomVariables>
      <ExternalActivities>
        <ExternalActivity Name="EXT60DayNoDateNoPay" Description="60 Days have passed No Date and NoPay" />
        <ExternalActivity Name="DebtCounsellingArrears" Description="A case at Debt Review Approved state goes into arrears" />
        <ExternalActivity Name="UnderCancellationRemoved" Description="Instance moves out of Pend Cancellation when Under Cancellation detail type is removed of account" />
        <ExternalActivity Name="UnderCancellation" Description="Instance moves into Pend Cancellation state when Cancellation Registered is placed against account" />
        <ExternalActivity Name="CancellationRegistered" Description="When Cancellation Registered detail type placed against account it must be archived" />
        <ExternalActivity Name="Into Bond Exclusion Arrears" Description="If the account goes into arrears then this flag is raised" />
        <ExternalActivity Name="Out Bond Exclusion Arrears" Description="When the arrears of the account is cleared then this flag is raised" />
      </ExternalActivities>
      <CustomForms>
        <CustomForm Name="ChangeOfCircumstance" Description="Change Of Circumstance" />
        <CustomForm Name="ConsultantDecline" Description="Consultant Decline" />
        <CustomForm Name="ContinueDebtReviewReason" Description="Continue Debt Review" />
        <CustomForm Name="CourtDetailsAdd" Description="Add Court Details" />
        <CustomForm Name="CourtDetailsView" Description="View Court Details" />
        <CustomForm Name="DebtCounselling_Correspondence_InstructAttorney" Description="Instruct Attorney Correpondence" />
        <CustomForm Name="DebtCounselling_Correspondence_InstructAttorneyRespondToDC" Description="Instruct Attorney Respond To DC" />
        <CustomForm Name="DebtCounselling_Correspondence_RespondToDebtCounsellor" Description="Respond To Debt Counsellor" />
        <CustomForm Name="DebtCounselling_Correspondence_SendCounterProposal" Description="Send Counter Proposal" />
        <CustomForm Name="DebtCounselling_Correspondence_SendDeclineLetter" Description="Send Decline Letter" />
        <CustomForm Name="DebtCounselling_Correspondence_SendIntentionToTerminate" Description="Send Intention To Terminate" />
        <CustomForm Name="DebtCounselling_Correspondence_SendStandardVariableLoanAgreement" Description="Send Loan Agreement" />
        <CustomForm Name="DebtCounselling_Correspondence_SendTerminationLetter" Description="Send Termination Letter" />
        <CustomForm Name="DebtCounsellingAssignSupervisor" Description="Assign Supervisor" />
        <CustomForm Name="DebtCounsellingCancelled" Description="Cancel Debt Counselling" />
        <CustomForm Name="DebtCounsellingCounterProposalSummaryWorkflow" Description="Counter Proposal Summary" />
        <CustomForm Name="DebtCounsellingDetailsUpdate" Description="Debt Counselling Details Update" />
        <CustomForm Name="DebtCounsellingPersonalLoansCancelled" Description="Cancel Personal Loan Debt Counselling" />
        <CustomForm Name="DebtCounsellingProposalSummary" Description="Proposal Summary" />
        <CustomForm Name="DebtCounsellingProposalSummaryWorkflow" Description="Debt Counselling Proposal Summary" />
        <CustomForm Name="DebtCounsellingSummary" Description="Debt Counselling Summary" />
        <CustomForm Name="DebtCounsellingSummaryReview" Description="Debt Counselling Summary Review" />
        <CustomForm Name="DebtCounsellingTermination" Description="Terminate Application" />
        <CustomForm Name="DebtCounsellorUpdate" Description="Update Debt Counsellor" />
        <CustomForm Name="LegalEntityDeathNotify" Description="LegalEntityDeathNotify" />
        <CustomForm Name="LegalEntityNotificationViewAll" Description="LegalEntityNotificationViewAll" />
        <CustomForm Name="LegalEntitySequestrationNotify" Description="LegalEntitySequestrationNotify" />
        <CustomForm Name="PaymentReceivedSummary" Description="Payment Received Summary" />
        <CustomForm Name="PaymentReceivedUpdate" Description="Payment Received Update" />
        <CustomForm Name="ProposalAccept" Description="Accept Proposal" />
        <CustomForm Name="ProposalDecline" Description="Proposal Decline" />
        <CustomForm Name="RecoveriesProposalCapture" Description="Capture Recoveries Proposal" />
        <CustomForm Name="RecoveriesProposalView" Description="Recoveries Proposal" />
        <CustomForm Name="TermReviewUpdate" Description="Term Review Update" />
        <CustomForm Name="WorkflowSubmit" Description="WorkflowSubmit" />
        <CustomForm Name="WorkflowYesNo" Description="WorkflowYesNo" />
      </CustomForms>
      <InvisibleAnchorNode LocationX="41.8414" LocationY="234.8878" />
      <Clapperboard LocationX="57.8414" LocationY="236.8879" LimitAccessTo="" Subject="" KeyVariable="DebtCounsellingKey" />
      <States>
        <State LocationX="309.93" LocationY="229.2966" X2ID="85c69119-68db-470d-b2ed-91ad86c683cb" Type="SAHL.X2Designer.Items.UserState" StateName="Review Notification">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Review_Notification(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Review_Notification(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Admin D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummaryReview" />
          </CustomForms>
        </State>
        <State LocationX="472.9794" LocationY="338.2974" X2ID="a1f4a76b-b214-4f8d-b664-d18612f3bd45" Type="SAHL.X2Designer.Items.UserState" StateName="Decision on Proposal">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Decision_on_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Decision_on_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Supervisor D" />
            <WorkListCollection WorkListCollectionItem="Recoveries Manager D" />
            <WorkListCollection WorkListCollectionItem="Loss Control Director D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="40.42213" LocationY="425.2972" X2ID="1b09ec02-10ed-47bb-9f69-4a1b7ef7d6a6" Type="SAHL.X2Designer.Items.UserState" StateName="Pend Payment">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Pend_Payment(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{//Ensure role assignment is either court consultant or debt counselling consultant depending on the assignment from the state the case came from. &#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Pend_Payment(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="55.2501" LocationY="661.2961" X2ID="feee2151-c05c-4463-ba17-65fbb9286e2d" Type="SAHL.X2Designer.Items.CommonState" StateName="Common Terminate">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Common_Terminate(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Common_Terminate(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <AppliesTo>
            <AppliesToCollection AppliesToCollectionItem="Pend Payment" />
            <AppliesToCollection AppliesToCollectionItem="Pend Court Decision" />
            <AppliesToCollection AppliesToCollectionItem="Default in Payment" />
            <AppliesToCollection AppliesToCollectionItem="Manage Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Pend Cancellation" />
            <AppliesToCollection AppliesToCollectionItem="60 Days Review" />
          </AppliesTo>
        </State>
        <State LocationX="389.12" LocationY="737.2958" X2ID="97e50118-4794-4ba2-839a-350681d5ef35" Type="SAHL.X2Designer.Items.UserState" StateName="Termination ">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Termination_(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Termination_(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="897.4922" LocationY="500.2972" X2ID="f60caeab-3070-42bf-a824-266f81b661a2" Type="SAHL.X2Designer.Items.UserState" StateName="Pend Court Decision">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Pend_Court_Decision(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Pend_Court_Decision(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="899.8489" LocationY="885.2951" X2ID="3b41f2e1-2518-40c1-b656-9c66e564046f" Type="SAHL.X2Designer.Items.ArchiveState" StateName="Archive Debt Counselling" ReturnActivity="" ReturnWorkflow="">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Archive_Debt_Counselling(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Archive_Debt_Counselling(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnReturn" Code="public bool OnReturn_Archive_Debt_Counselling(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
        </State>
        <State LocationX="604.0417" LocationY="887.2959" X2ID="c99f862b-f141-4cc1-9b84-795388bc7164" Type="SAHL.X2Designer.Items.CommonState" StateName="Common Cancel">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Common_Cancel(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Common_Cancel(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <AppliesTo>
            <AppliesToCollection AppliesToCollectionItem="Review Notification" />
            <AppliesToCollection AppliesToCollectionItem="Pend Payment" />
            <AppliesToCollection AppliesToCollectionItem="Pend Court Decision" />
            <AppliesToCollection AppliesToCollectionItem="Pend Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Debt Review Approved" />
            <AppliesToCollection AppliesToCollectionItem="Default in Payment" />
            <AppliesToCollection AppliesToCollectionItem="Term Review" />
            <AppliesToCollection AppliesToCollectionItem="Manage Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Pend Cancellation" />
            <AppliesToCollection AppliesToCollectionItem="Accepted Proposal" />
            <AppliesToCollection AppliesToCollectionItem="45 Day Reminder" />
            <AppliesToCollection AppliesToCollectionItem="Estates and Sequestration" />
            <AppliesToCollection AppliesToCollectionItem="Send Loan Agreements" />
            <AppliesToCollection AppliesToCollectionItem="Bond Exclusions" />
            <AppliesToCollection AppliesToCollectionItem="Bond Exclusions Arrears" />
          </AppliesTo>
        </State>
        <State LocationX="769.2164" LocationY="552.7744" X2ID="720eaa49-7a5a-46fe-bf5c-66dcfe24ada3" Type="SAHL.X2Designer.Items.CommonState" StateName="Common ML Cancel">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Common_ML_Cancel(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Common_ML_Cancel(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <AppliesTo>
            <AppliesToCollection AppliesToCollectionItem="45 Day Reminder" />
            <AppliesToCollection AppliesToCollectionItem="Accepted Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Check No Date No Pay" />
            <AppliesToCollection AppliesToCollectionItem="Debt Review Approved" />
            <AppliesToCollection AppliesToCollectionItem="Decision on Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Default in Payment" />
            <AppliesToCollection AppliesToCollectionItem="Estates and Sequestration" />
            <AppliesToCollection AppliesToCollectionItem="Litigation" />
            <AppliesToCollection AppliesToCollectionItem="Manage Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Payment Review" />
            <AppliesToCollection AppliesToCollectionItem="Pend Cancellation" />
            <AppliesToCollection AppliesToCollectionItem="Pend Court Decision" />
            <AppliesToCollection AppliesToCollectionItem="Pend Payment" />
            <AppliesToCollection AppliesToCollectionItem="Pend Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Return To Previous State" />
            <AppliesToCollection AppliesToCollectionItem="Return to State" />
            <AppliesToCollection AppliesToCollectionItem="Review Notification" />
            <AppliesToCollection AppliesToCollectionItem="Term Review" />
            <AppliesToCollection AppliesToCollectionItem="Bond Exclusions" />
            <AppliesToCollection AppliesToCollectionItem="Bond Exclusions Arrears" />
          </AppliesTo>
        </State>
        <State LocationX="857.0992" LocationY="219.8657" X2ID="e0dfed66-37e4-4895-8f4f-727eb72b9ebd" Type="SAHL.X2Designer.Items.UserState" StateName="Pend Proposal">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Pend_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Pend_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="474.6047" LocationY="515.8659" X2ID="48d3bd06-37da-4036-ab53-ed1b6412e05e" Type="SAHL.X2Designer.Items.UserState" StateName="Debt Review Approved">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Debt_Review_Approved(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Debt_Review_Approved(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList />
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="628.0602" LocationY="618.8659" X2ID="f04b6202-a3b6-429f-93fc-58f5e0f8e795" Type="SAHL.X2Designer.Items.UserState" StateName="Default in Payment">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Default_in_Payment(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{//Ensure role assignment is either court consultant or debt counselling consultant depending on the assignment from the state the case came from. &#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Default_in_Payment(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="199.3882" LocationY="738.863" X2ID="86a650f5-702f-40b9-bb22-97378eb79ffd" Type="SAHL.X2Designer.Items.UserState" StateName="Intent to Terminate">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Intent_to_Terminate(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{ &#xD;&#xA;&#x9;//Ensure role assignment is either court consultant or debt counselling consultant depending on the assignment from the state the case came from. &#xD;&#xA;&#x9;List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;&#x9;IWorkflowAssignment assignment = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return assignment.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&quot;Intent to Terminate&quot;, &#xD;&#xA;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Intent_to_Terminate(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="1139.276" LocationY="497.8668" X2ID="abf98a04-49a7-4482-aa43-83ba17515c1a" Type="SAHL.X2Designer.Items.CommonState" StateName="Common Court Date">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Common_Court_Date(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Common_Court_Date(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <AppliesTo>
            <AppliesToCollection AppliesToCollectionItem="Pend Payment" />
            <AppliesToCollection AppliesToCollectionItem="Termination " />
            <AppliesToCollection AppliesToCollectionItem="Pend Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Default in Payment" />
            <AppliesToCollection AppliesToCollectionItem="Intent to Terminate" />
            <AppliesToCollection AppliesToCollectionItem="Term Review" />
            <AppliesToCollection AppliesToCollectionItem="Manage Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Pend Cancellation" />
            <AppliesToCollection AppliesToCollectionItem="Accepted Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Termination Letter Sent" />
            <AppliesToCollection AppliesToCollectionItem="45 Day Reminder" />
            <AppliesToCollection AppliesToCollectionItem="60 Days Review" />
          </AppliesTo>
        </State>
        <State LocationX="606.495" LocationY="420.2067" X2ID="797bb6c8-3823-43a6-8949-0ac58dc8516b" Type="SAHL.X2Designer.Items.UserState" StateName="Term Review">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Term_Review(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Term_Review(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="779.2602" LocationY="338.4857" X2ID="7b91c8e0-f1a5-49eb-bbde-c7d0186f0466" Type="SAHL.X2Designer.Items.UserState" StateName="Manage Proposal">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Manage_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{//Ensure role assignment is either court consultant or debt counselling consultant depending on the assignment from the state the case came from. &#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Manage_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummaryReview" />
          </CustomForms>
        </State>
        <State LocationX="1037.346" LocationY="372.4857" X2ID="918861f5-63cc-4c03-8b25-9fe2165eee29" Type="SAHL.X2Designer.Items.CommonState" StateName="Common Circumstance">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Common_Circumstance(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Common_Circumstance(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <AppliesTo>
            <AppliesToCollection AppliesToCollectionItem="Pend Payment" />
            <AppliesToCollection AppliesToCollectionItem="Termination " />
            <AppliesToCollection AppliesToCollectionItem="Debt Review Approved" />
            <AppliesToCollection AppliesToCollectionItem="Default in Payment" />
            <AppliesToCollection AppliesToCollectionItem="Intent to Terminate" />
            <AppliesToCollection AppliesToCollectionItem="Term Review" />
            <AppliesToCollection AppliesToCollectionItem="Pend Cancellation" />
            <AppliesToCollection AppliesToCollectionItem="Accepted Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Termination Letter Sent" />
            <AppliesToCollection AppliesToCollectionItem="Estates and Sequestration" />
            <AppliesToCollection AppliesToCollectionItem="Send Loan Agreements" />
            <AppliesToCollection AppliesToCollectionItem="Bond Exclusions" />
            <AppliesToCollection AppliesToCollectionItem="Bond Exclusions Arrears" />
          </AppliesTo>
        </State>
        <State LocationX="328.1617" LocationY="97.02919" X2ID="d81a0756-1766-4de6-9e7f-e883b9f06df1" Type="SAHL.X2Designer.Items.UserState" StateName="Litigation">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Litigation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Litigation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Foreclosure Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="514.9872" LocationY="97.02919" X2ID="96a306ce-bcba-426d-a643-cce2f969dcf1" Type="SAHL.X2Designer.Items.ArchiveState" StateName="Archive Litigation" ReturnActivity="" ReturnWorkflow="">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Archive_Litigation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;// update the status of the debt counselling record to 'closed'&#xD;&#xA;&#x9;IDebtCounselling client = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;client.UpdateDebtCounsellingStatus((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, (int)SAHL.Common.Globals.DebtCounsellingStatuses.Closed);&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Archive_Litigation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnReturn" Code="public bool OnReturn_Archive_Litigation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
        </State>
        <State LocationX="1674.679" LocationY="521.4384" X2ID="6927e355-bae4-487b-9245-d8943bf08a4c" Type="SAHL.X2Designer.Items.CommonState" StateName="Common Court">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Common_Court(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Common_Court(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <AppliesTo>
            <AppliesToCollection AppliesToCollectionItem="Termination " />
            <AppliesToCollection AppliesToCollectionItem="Pend Court Decision" />
            <AppliesToCollection AppliesToCollectionItem="Pend Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Intent to Terminate" />
            <AppliesToCollection AppliesToCollectionItem="Manage Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Termination Letter Sent" />
            <AppliesToCollection AppliesToCollectionItem="45 Day Reminder" />
            <AppliesToCollection AppliesToCollectionItem="60 Days Review" />
            <AppliesToCollection AppliesToCollectionItem="Pend Payment" />
            <AppliesToCollection AppliesToCollectionItem="Default in Payment" />
            <AppliesToCollection AppliesToCollectionItem="Term Review" />
            <AppliesToCollection AppliesToCollectionItem="Pend Cancellation" />
          </AppliesTo>
        </State>
        <State LocationX="1042.455" LocationY="612.438" X2ID="bcbc526e-d89a-4975-9d8f-c689a75ca879" Type="SAHL.X2Designer.Items.UserState" StateName="Pend Cancellation">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Pend_Cancellation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{//Ensure role assignment is either court consultant or debt counselling consultant depending on the assignment from the state the case came from. &#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Pend_Cancellation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="1156.14" LocationY="835.3457" X2ID="7cb450b4-8559-4eac-a747-5a422ea93669" Type="SAHL.X2Designer.Items.CommonState" StateName="Common Shortfall">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Common_Shortfall(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Common_Shortfall(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <AppliesTo>
            <AppliesToCollection AppliesToCollectionItem="Pend Cancellation" />
            <AppliesToCollection AppliesToCollectionItem="Recoveries Proposal" />
          </AppliesTo>
        </State>
        <State LocationX="1526.778" LocationY="262.665" X2ID="3e6f4392-178d-4b4c-9f95-4745b9b31ab3" Type="SAHL.X2Designer.Items.CommonState" StateName="Common Litigation">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Common_Litigation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Common_Litigation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <AppliesTo>
            <AppliesToCollection AppliesToCollectionItem="Pend Payment" />
            <AppliesToCollection AppliesToCollectionItem="Termination " />
            <AppliesToCollection AppliesToCollectionItem="Pend Court Decision" />
            <AppliesToCollection AppliesToCollectionItem="Pend Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Debt Review Approved" />
            <AppliesToCollection AppliesToCollectionItem="Default in Payment" />
            <AppliesToCollection AppliesToCollectionItem="Intent to Terminate" />
            <AppliesToCollection AppliesToCollectionItem="Term Review" />
            <AppliesToCollection AppliesToCollectionItem="Manage Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Pend Cancellation" />
            <AppliesToCollection AppliesToCollectionItem="Accepted Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Termination Letter Sent" />
            <AppliesToCollection AppliesToCollectionItem="45 Day Reminder" />
            <AppliesToCollection AppliesToCollectionItem="Estates and Sequestration" />
            <AppliesToCollection AppliesToCollectionItem="Send Loan Agreements" />
            <AppliesToCollection AppliesToCollectionItem="Bond Exclusions" />
            <AppliesToCollection AppliesToCollectionItem="Bond Exclusions Arrears" />
          </AppliesTo>
        </State>
        <State LocationX="136.039" LocationY="339.3469" X2ID="5227defe-031b-4f6a-a8f0-54d7bed8e476" Type="SAHL.X2Designer.Items.UserState" StateName="Accepted Proposal">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Accepted_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{//Ensure role assignment is either court consultant or debt counselling consultant depending on the assignment from the state the case came from. &#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Accepted_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="474.0627" LocationY="667.5589" X2ID="1c81d74d-9c5c-4882-b1c5-0e521252ab7a" Type="SAHL.X2Designer.Items.UserState" StateName="Termination Letter Sent">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Termination_Letter_Sent(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{//Ensure role assignment is either court consultant or debt counselling consultant depending on the assignment from the state the case came from. &#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Termination_Letter_Sent(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="1383.728" LocationY="88.68228" X2ID="a5c92c04-5af7-4564-af54-d3fad161515d" Type="SAHL.X2Designer.Items.ArchiveState" StateName="Archive 60days" ReturnActivity="" ReturnWorkflow="">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Archive_60days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Archive_60days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnReturn" Code="public bool OnReturn_Archive_60days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
        </State>
        <State LocationX="189.8518" LocationY="954.877" X2ID="d379ec05-eb0a-45cc-8efd-e4a6c6d34171" Type="SAHL.X2Designer.Items.SystemState" StateName="Check No Date No Pay" UseAutoForward="False">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Check_No_Date_No_Pay(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Check_No_Date_No_Pay(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList />
          <TrackList />
        </State>
        <State LocationX="752.0105" LocationY="955.4679" X2ID="7aac5b3c-f2eb-464d-ba6a-086684e344b6" Type="SAHL.X2Designer.Items.SystemState" StateName="Return To Previous State" UseAutoForward="True">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Return_To_Previous_State(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Return_To_Previous_State(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="AutoForwardTo" Code="public string GetForwardStateName_Return_To_Previous_State(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return Debt_Counselling_Data.PreviousState;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList />
          <TrackList />
        </State>
        <State LocationX="1274.729" LocationY="136.9074" X2ID="1007768e-3fef-453a-a21d-4819ace892f8" Type="SAHL.X2Designer.Items.UserState" StateName="45 Day Reminder">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_45_Day_Reminder(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_45_Day_Reminder(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="1477.203" LocationY="172.9824" X2ID="234403ee-4e48-4fab-9e51-b6cca1db5f24" Type="SAHL.X2Designer.Items.CommonState" StateName="Common Counter Proposal">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Common_Counter_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Common_Counter_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <AppliesTo>
            <AppliesToCollection AppliesToCollectionItem="Manage Proposal" />
          </AppliesTo>
        </State>
        <State LocationX="1024.315" LocationY="311.0735" X2ID="0e50cb20-9da1-477e-8649-86c82a3df944" Type="SAHL.X2Designer.Items.CommonState" StateName="Common Negotiate Proposal">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Common_Negotiate_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Common_Negotiate_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <AppliesTo>
            <AppliesToCollection AppliesToCollectionItem="Termination " />
            <AppliesToCollection AppliesToCollectionItem="Pend Court Decision" />
            <AppliesToCollection AppliesToCollectionItem="Pend Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Intent to Terminate" />
            <AppliesToCollection AppliesToCollectionItem="Term Review" />
            <AppliesToCollection AppliesToCollectionItem="Termination Letter Sent" />
            <AppliesToCollection AppliesToCollectionItem="45 Day Reminder" />
          </AppliesTo>
        </State>
        <State LocationX="1253.265" LocationY="346.8779" X2ID="7f66e8de-736c-4d7d-843d-4790623fe156" Type="SAHL.X2Designer.Items.UserState" StateName="Estates and Sequestration">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Estates_and_Sequestration(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{//Ensure role assignment is either court consultant or debt counselling consultant depending on the assignment from the state the case came from. &#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Estates_and_Sequestration(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="LegalEntityNotificationViewAll" />
          </CustomForms>
        </State>
        <State LocationX="282.745" LocationY="558.8777" X2ID="1355bff3-a1de-4443-b5e2-82501949991b" Type="SAHL.X2Designer.Items.UserState" StateName="Payment Review">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Payment_Review(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Payment_Review(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Supervisor D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="PaymentReceivedSummary" />
          </CustomForms>
        </State>
        <State LocationX="776.9845" LocationY="611.4378" X2ID="8091788e-2a17-4c8e-9852-e0c763adca0f" Type="SAHL.X2Designer.Items.SystemState" StateName="Return to State" UseAutoForward="True">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Return_to_State(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Return_to_State(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="AutoForwardTo" Code="public string GetForwardStateName_Return_to_State(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return Debt_Counselling_Data.PreviousState;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList />
          <TrackList />
        </State>
        <State LocationX="1535.411" LocationY="519.3467" X2ID="d16cf475-5412-4c7a-b928-cf89bfca9274" Type="SAHL.X2Designer.Items.CommonState" StateName="Common Reallocate">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Common_Reallocate(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Common_Reallocate(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <AppliesTo>
            <AppliesToCollection AppliesToCollectionItem="Decision on Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Recoveries Proposal Decision" />
          </AppliesTo>
        </State>
        <State LocationX="1267.635" LocationY="611.3468" X2ID="842cb174-d981-4e8d-8ab8-de2e33bfc23d" Type="SAHL.X2Designer.Items.UserState" StateName="Recoveries Proposal Decision">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Recoveries_Proposal_Decision(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Recoveries_Proposal_Decision(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Supervisor D" />
            <WorkListCollection WorkListCollectionItem="Recoveries Manager D" />
            <WorkListCollection WorkListCollectionItem="Loss Control Director D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="RecoveriesProposalView" />
          </CustomForms>
        </State>
        <State LocationX="252.5836" LocationY="364.8467" X2ID="d6145784-338f-43c7-9377-b3742e87e876" Type="SAHL.X2Designer.Items.SystemState" StateName="Opt Out Check" UseAutoForward="False">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Opt_Out_Check(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Opt_Out_Check(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList />
          <TrackList />
        </State>
        <State LocationX="308.818" LocationY="473.8469" X2ID="ff004b68-f25b-40ee-a7a6-f882d4c866be" Type="SAHL.X2Designer.Items.UserState" StateName="Send Loan Agreements">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Send_Loan_Agreements(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Send_Loan_Agreements(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="477.2919" LocationY="954.7561" X2ID="6fafaff7-0e62-4bb2-a919-c78a3edf7c27" Type="SAHL.X2Designer.Items.UserState" StateName="60 Days Review">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_60_Days_Review(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_60_Days_Review(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="990.6512" LocationY="88.84689" X2ID="e4c5475a-398c-4212-8c66-33561ed94333" Type="SAHL.X2Designer.Items.HoldState" StateName="60DayTimerHold">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_60DayTimerHold(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_60DayTimerHold(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList />
          <TrackList />
          <CustomForms />
        </State>
        <State LocationX="62.8414" LocationY="817.7557" X2ID="9ee3feba-6c4e-4644-b699-f6bb1d3cbe6b" Type="SAHL.X2Designer.Items.CommonState" StateName="Common 60 Day">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Common_60_Day(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Common_60_Day(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; &#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <AppliesTo>
            <AppliesToCollection AppliesToCollectionItem="Review Notification" />
            <AppliesToCollection AppliesToCollectionItem="Termination " />
            <AppliesToCollection AppliesToCollectionItem="Pend Court Decision" />
            <AppliesToCollection AppliesToCollectionItem="Pend Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Intent to Terminate" />
            <AppliesToCollection AppliesToCollectionItem="Manage Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Litigation" />
            <AppliesToCollection AppliesToCollectionItem="Pend Cancellation" />
            <AppliesToCollection AppliesToCollectionItem="Termination Letter Sent" />
            <AppliesToCollection AppliesToCollectionItem="Check No Date No Pay" />
            <AppliesToCollection AppliesToCollectionItem="Return To Previous State" />
            <AppliesToCollection AppliesToCollectionItem="45 Day Reminder" />
            <AppliesToCollection AppliesToCollectionItem="Estates and Sequestration" />
            <AppliesToCollection AppliesToCollectionItem="Return to State" />
            <AppliesToCollection AppliesToCollectionItem="Recoveries Proposal Decision" />
            <AppliesToCollection AppliesToCollectionItem="60 Days Review" />
          </AppliesTo>
        </State>
        <State LocationX="1141.693" LocationY="218.8469" X2ID="aa9ee7eb-e626-422d-8784-a235328f3cbe" Type="SAHL.X2Designer.Items.SystemState" StateName="45 Days Check" UseAutoForward="False">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_45_Days_Check(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_45_Days_Check(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList />
          <TrackList />
        </State>
        <State LocationX="1288.521" LocationY="757.8468" X2ID="28b6a27b-f4c1-4ccc-b697-627151ba1031" Type="SAHL.X2Designer.Items.UserState" StateName="Recoveries Proposal">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Recoveries_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Recoveries_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="RecoveriesProposalView" />
          </CustomForms>
        </State>
        <State LocationX="382.2998" LocationY="1050.847" X2ID="9ceba99e-c5b3-4bbc-a5aa-99f47e312874" Type="SAHL.X2Designer.Items.UserState" StateName="Bond Exclusions">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Bond_Exclusions(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Bond_Exclusions(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="20.79713" LocationY="1049.847" X2ID="56908959-f9a1-46f6-8081-5aee679be89a" Type="SAHL.X2Designer.Items.CommonState" StateName="Common Exclude Bond">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Common_Exclude_Bond(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Common_Exclude_Bond(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <AppliesTo>
            <AppliesToCollection AppliesToCollectionItem="Pend Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Manage Proposal" />
          </AppliesTo>
        </State>
        <State LocationX="680.3987" LocationY="1050.847" X2ID="d414aac3-f48b-4156-a4b8-6ca529c78662" Type="SAHL.X2Designer.Items.UserState" StateName="Bond Exclusions Arrears">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Bond_Exclusions_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Bond_Exclusions_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
            <WorkListCollection WorkListCollectionItem="Debt Counselling Court Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="1448.961" LocationY="507.847" X2ID="f3e2b9a1-9d88-45bb-8e9a-23c22ca08fef" Type="SAHL.X2Designer.Items.CommonState" StateName="Send Decline">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Send_Decline(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Send_Decline(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <AppliesTo>
            <AppliesToCollection AppliesToCollectionItem="Manage Proposal" />
          </AppliesTo>
        </State>
        <State LocationX="1281.487" LocationY="508.0914" X2ID="b8b46212-b199-4c17-9adc-fcec93758e19" Type="SAHL.X2Designer.Items.CommonState" StateName="Common Update Case Details">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Common_Update_Case_Details(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Common_Update_Case_Details(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <AppliesTo>
            <AppliesToCollection AppliesToCollectionItem="45 Day Reminder" />
            <AppliesToCollection AppliesToCollectionItem="Pend Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Review Notification" />
            <AppliesToCollection AppliesToCollectionItem="Manage Proposal" />
            <AppliesToCollection AppliesToCollectionItem="60 Days Review" />
            <AppliesToCollection AppliesToCollectionItem="Accepted Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Bond Exclusions" />
            <AppliesToCollection AppliesToCollectionItem="Bond Exclusions Arrears" />
            <AppliesToCollection AppliesToCollectionItem="Debt Review Approved" />
            <AppliesToCollection AppliesToCollectionItem="Decision on Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Default in Payment" />
            <AppliesToCollection AppliesToCollectionItem="Estates and Sequestration" />
            <AppliesToCollection AppliesToCollectionItem="Intent to Terminate" />
            <AppliesToCollection AppliesToCollectionItem="Litigation" />
            <AppliesToCollection AppliesToCollectionItem="Opt Out Failed" />
            <AppliesToCollection AppliesToCollectionItem="Payment Review" />
            <AppliesToCollection AppliesToCollectionItem="Pend Cancellation" />
            <AppliesToCollection AppliesToCollectionItem="Pend Court Decision" />
            <AppliesToCollection AppliesToCollectionItem="Pend Payment" />
            <AppliesToCollection AppliesToCollectionItem="Personal Loan Pend Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Recoveries Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Recoveries Proposal Decision" />
            <AppliesToCollection AppliesToCollectionItem="Return To Previous State" />
            <AppliesToCollection AppliesToCollectionItem="Send Loan Agreements" />
            <AppliesToCollection AppliesToCollectionItem="Termination " />
            <AppliesToCollection AppliesToCollectionItem="Term Review" />
            <AppliesToCollection AppliesToCollectionItem="Termination Letter Sent" />
          </AppliesTo>
        </State>
        <State LocationX="267.7709" LocationY="282.0912" X2ID="d82f74e6-f6c8-4902-8168-1c84430a949a" Type="SAHL.X2Designer.Items.UserState" StateName="Opt Out Failed">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Opt_Out_Failed(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Opt_Out_Failed(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Supervisor D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="910.7604" LocationY="1051.953" X2ID="bd5ac0e4-3c15-442e-9c0b-5afc0ea97864" Type="SAHL.X2Designer.Items.CommonState" StateName="Common PL Cancel">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Common_PL_Cancel(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Common_PL_Cancel(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <AppliesTo>
            <AppliesToCollection AppliesToCollectionItem="Personal Loan Pend Proposal" />
            <AppliesToCollection AppliesToCollectionItem="Review Notification" />
          </AppliesTo>
        </State>
        <State LocationX="560.4713" LocationY="230.0911" X2ID="b33dc676-8607-41e9-a381-d8b168979c2c" Type="SAHL.X2Designer.Items.SystemState" StateName="Product Check" UseAutoForward="False">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Product_Check(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Product_Check(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList />
          <TrackList />
        </State>
        <State LocationX="654.6537" LocationY="154.0911" X2ID="49d84893-2660-4800-b09c-01a76e6568c1" Type="SAHL.X2Designer.Items.UserState" StateName="Personal Loan Pend Proposal">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Personal_Loan_Pend_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Personal_Loan_Pend_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <WorkList>
            <WorkListCollection WorkListCollectionItem="Debt Counselling Consultant D" />
          </WorkList>
          <TrackList />
          <CustomForms>
            <CustomFormCollection FormName="DebtCounsellingSummary" />
          </CustomForms>
        </State>
        <State LocationX="1042.049" LocationY="438.0911" X2ID="be94f50a-4dd9-462a-b566-a7f7183d2190" Type="SAHL.X2Designer.Items.CommonState" StateName="Common Court Application Withdrawn">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Common_Court_Application_Withdrawn(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Common_Court_Application_Withdrawn(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <AppliesTo>
            <AppliesToCollection AppliesToCollectionItem="Pend Court Decision" />
          </AppliesTo>
        </State>
        <State LocationX="802.9323" LocationY="667.0911" X2ID="4e76ef15-cd8b-47f9-9bf0-b969e21af7db" Type="SAHL.X2Designer.Items.ArchiveState" StateName="Termination Archive" ReturnActivity="" ReturnWorkflow="">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Termination_Archive(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;ICommon common = DomainServiceLoader.Instance.Get&lt;ICommon&gt;();&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;//Cancel the DC case and opt out of the DC product if applicable&#xD;&#xA;&#x9;bool result = debtcounsellingClient.TerminateDebtCounselling((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, Debt_Counselling_Data.AssignADUserName);&#xD;&#xA;&#x9;if (!result)&#xD;&#xA;&#x9;return false;&#xD;&#xA;&#x9;        &#xD;&#xA;&#x9;string eStageName,eFolderID,adUserName;&#xD;&#xA;&#x9;debtcounsellingClient.GetEworkDataForLossControlCase((IDomainMessageCollection)messages, Debt_Counselling_Data.AccountKey, out eStageName, out eFolderID, out adUserName);&#xD;&#xA;&#xD;&#xA;&#x9;if (!String.IsNullOrEmpty(eFolderID))&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;result = common.PerformEWorkAction((IDomainMessageCollection)messages, eFolderID, SAHL.Common.Constants.EworkActionNames.TerminateDebtCounselling, Debt_Counselling_Data.DebtCounsellingKey, adUserName, eStageName);          &#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;return result;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Termination_Archive(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnReturn" Code="public bool OnReturn_Termination_Archive(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
        </State>
        <State LocationX="43.73698" LocationY="85.09114" X2ID="4bdb8c33-057a-492d-bd16-6932545d1f2a" Type="SAHL.X2Designer.Items.ArchiveState" StateName="Cache Archive" ReturnActivity="" ReturnWorkflow="">
          <CodeSections>
            <CodeSection Name="OnEnter" Code="public bool OnEnter_Cache_Archive(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnExit" Code="public bool OnExit_Cache_Archive(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnReturn" Code="public bool OnReturn_Cache_Archive(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
        </State>
      </States>
      <Activities>
        <Activity LocationX="598.1695" LocationY="343.2972" Type="SAHL.X2Designer.Items.UserActivity" Id="3" Name="Send Proposal for Approval" X2ID="db74c1f6-0fe5-4ec5-a396-399b87ed52fc" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="DebtCounsellingAssignSupervisor" LinkedActivity="" UseLinkedActivity="False" FromNode="Manage Proposal" ToNode="Decision on Proposal">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Send_Proposal_for_Approval(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;return debtcounsellingClient.CheckSendProposalForApprovalRules((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, param.IgnoreWarning);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Send_Proposal_for_Approval(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;if (String.IsNullOrEmpty(Debt_Counselling_Data.AssignADUserName) || Debt_Counselling_Data.AssignWorkflowRoleTypeKey &lt;= 0)&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;// show the message if required fields not selected&#xD;&#xA;&#x9;&#x9;messages.AddMessage(new SystemMessage(&quot;User must be selected&quot;, SystemMessageSeverityEnum.Error));&#xD;&#xA;&#x9;&#x9;return false;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;else&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes workflowRoleType = (SAHL.Common.Globals.WorkflowRoleTypes)Debt_Counselling_Data.AssignWorkflowRoleTypeKey;&#xD;&#xA;&#x9;&#x9;IWorkflowAssignment assignment = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;&#x9;assignment.AssignWorkflowRoleForADUser((IDomainMessageCollection)messages, instance.ID, Debt_Counselling_Data.AssignADUserName,workflowRoleType,Debt_Counselling_Data.DebtCounsellingKey,&quot;&quot;);&#xD;&#xA;&#x9;&#x9;return true;&#xD;&#xA;&#x9;}&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Send_Proposal_for_Approval(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Send_Proposal_for_Approval(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4407" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Send Proposal to Manager" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="396.7607" LocationY="369.2974" Type="SAHL.X2Designer.Items.UserActivity" Id="4" Name="Accept" X2ID="5f5caab7-13f1-4a41-a1af-a0f3ebebf047" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="ProposalAccept" LinkedActivity="" UseLinkedActivity="False" FromNode="Decision on Proposal" ToNode="Opt Out Check">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Recoveries Manager" />
            <AccessCollection AccessCollectionItem="Loss Control Director" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Accept(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;return debtcounsellingClient.CheckAcceptProposalRules((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, param.IgnoreWarning);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Accept(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;// assign case back to consultant&#xD;&#xA;&#x9;List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Bond Exclusions&quot;);&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Bond Exclusions Arrears&quot;);&#xD;&#xA;&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&quot;Accept Proposal&quot;, &#xD;&#xA;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Accept(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Accept(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4405" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Accept Proposal" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="472.0785" LocationY="742.2958" Type="SAHL.X2Designer.Items.UserActivity" Id="10" Name="Send Termination Letter" X2ID="6fc9a295-9614-4a66-bf12-9ccd10da3485" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="DebtCounselling_Correspondence_SendTerminationLetter" LinkedActivity="" UseLinkedActivity="False" FromNode="Termination " ToNode="Termination Letter Sent">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Send_Termination_Letter(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;return debtcounsellingClient.CheckSendTerminationLetterRules((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, true);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Send_Termination_Letter(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Send_Termination_Letter(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Send_Termination_Letter(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4439" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Termination Letter Sent" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="663.7268" LocationY="672.2958" Type="SAHL.X2Designer.Items.TimedActivity" Id="" Name="10 days" X2ID="307df25c-45ea-4371-9b55-1c12deb10cdb" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" FromNode="Termination Letter Sent" ToNode="Termination Archive">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_10_days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;return debtcounsellingClient.CheckTenDaysTerminationReminderRules((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, param.IgnoreWarning);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_10_days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_10_days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnTimedActivity" Code="public DateTime GetActivityTime_10_days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;ICommon common = DomainServiceLoader.Instance.Get&lt;ICommon&gt;();&#xD;&#xA;&#x9;return common.GetnWorkingDaysFromToday((IDomainMessageCollection)messages, 10);&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4440" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Debt Counselling Terminated" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="729.5315" LocationY="891.2958" Type="SAHL.X2Designer.Items.UserActivity" Id="17" Name="Cancel Debt Counselling" X2ID="8b060490-b854-425d-8762-a05ba45f868e" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="DebtCounsellingCancelled" LinkedActivity="" UseLinkedActivity="False" FromNode="Common Cancel" ToNode="Archive Debt Counselling">
          <Access>
            <AccessCollection AccessCollectionItem="Debt Counselling Admin D" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant D" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant D" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Cancel_Debt_Counselling(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;if (Debt_Counselling_Data.ProductKey == 12)&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;return false;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;else&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;return true;&#xD;&#xA;&#x9;}&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Cancel_Debt_Counselling(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;ICommon common = DomainServiceLoader.Instance.Get&lt;ICommon&gt;();&#xD;&#xA;&#x9;bool b = common.IsRCSAccount((IDomainMessageCollection)messages, Debt_Counselling_Data.AccountKey);&#xD;&#xA;&#x9;if (b)&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;b = true;&#xD;&#xA;&#x9;&#x9;debtcounsellingClient.SendNotification((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey);&#xD;&#xA;&#x9;&#x9;string eStageName,eFolderID,adUserName;&#xD;&#xA;  &#x9;&#x9;debtcounsellingClient.GetEworkDataForLossControlCase((IDomainMessageCollection)messages, Debt_Counselling_Data.AccountKey, out eStageName, out eFolderID, out adUserName);&#xD;&#xA;&#x9;&#x9;if (!String.IsNullOrEmpty(eFolderID))&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;b = common.PerformEWorkAction((IDomainMessageCollection)messages, eFolderID, SAHL.Common.Constants.EworkActionNames.CancelRCSDebtCounselling, Debt_Counselling_Data.DebtCounsellingKey, adUserName, eStageName);&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;else&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;b = true;&#xD;&#xA; &#x9;&#x9;debtcounsellingClient.CancelDebtCounselling((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, Debt_Counselling_Data.LatestReasonDefinitionKey);&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;return b;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Cancel_Debt_Counselling(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Cancel_Debt_Counselling(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4428" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Debt Review Cancelled" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="1017.752" LocationY="740.7744" Type="SAHL.X2Designer.Items.ExternalActivity" Id="18" Name="EXT Cancellation Registered" X2ID="ca627499-7667-4e73-83c5-34ff2ce6f11c" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" ExternalActivityRaiseFolder="This Instance" InvokedBy="CancellationRegistered" FromNode="Pend Cancellation" ToNode="Archive Debt Counselling">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_EXT_Cancellation_Registered(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_EXT_Cancellation_Registered(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;return debtcounsellingClient.CancelDebtCounselling_EXT((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, instance.ID, &quot;Capture Recoveries Proposal&quot;);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_EXT_Cancellation_Registered(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_EXT_Cancellation_Registered(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4446" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Cancellation Registered" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="414.6825" LocationY="234.866" Type="SAHL.X2Designer.Items.UserActivity" Id="18" Name="Respond to Debt Counsellor" X2ID="d6e1921f-2e07-4cdb-8eb3-0caf4176b104" Message="" StageTransitionMessage="" Description="" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="DebtCounselling_Correspondence_RespondToDebtCounsellor" LinkedActivity="" UseLinkedActivity="False" FromNode="Review Notification" ToNode="Product Check">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Admin" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Respond_to_Debt_Counsellor(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Respond_to_Debt_Counsellor(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;&#xD;&#xA; &#x9;// assign the case to DebtCounsellingConsultant&#xD;&#xA; &#x9;List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA; &#x9;statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA; &#x9;statesToExclude.Add(&quot;Bond Exclusions&quot;);&#xD;&#xA; &#x9;statesToExclude.Add(&quot;Bond Exclusions Arrears&quot;);&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;bool success = workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&quot;Pend Proposal&quot;, &#xD;&#xA;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;&#xD;&#xA;&#x9;if (success)&#xD;&#xA; &#x9;{&#xD;&#xA; &#x9;&#x9;// get details of the ework case&#xD;&#xA;  &#x9;&#x9;string eStageName,eFolderID,adUserName;&#xD;&#xA;  &#x9;&#x9;debtcounsellingClient.GetEworkDataForLossControlCase((IDomainMessageCollection)messages, Debt_Counselling_Data.AccountKey, out eStageName, out eFolderID, out adUserName);&#xD;&#xA;  &#xD;&#xA;  &#x9;&#x9;// if there is an ework case and it the 'Send To Litigation' action hasnt been performed&#xD;&#xA;  &#x9;&#x9;// then move case to Debt Counselling user stage with NO roles for to do list&#xD;&#xA;  &#x9;&#x9;if (!String.IsNullOrEmpty(eFolderID))&#xD;&#xA;  &#x9;&#x9;{&#xD;&#xA;   &#x9;&#x9;&#x9;if (Debt_Counselling_Data.SentToLitigation==false)&#xD;&#xA;   &#x9;&#x9;&#x9;{&#xD;&#xA;    &#x9;&#x9;&#x9;// move ework case to debt counselling stage &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;ICommon common = DomainServiceLoader.Instance.Get&lt;ICommon&gt;();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;success = common.PerformEWorkAction((IDomainMessageCollection)messages, eFolderID, SAHL.Common.Constants.EworkActionNames.X2DebtCounselling, Debt_Counselling_Data.DebtCounsellingKey, &quot;&quot;, eStageName);&#xD;&#xA;   &#x9;&#x9;&#x9;}&#xD;&#xA;  &#x9;&#x9;}&#xD;&#xA; &#x9;}&#xD;&#xA; &#x9;return success;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Respond_to_Debt_Counsellor(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Respond_to_Debt_Counsellor(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4415" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="17.1 Response Sent" />
            <BusinessStageTransition StageDefinitionKey="4417" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Debt Counselling Case Assigned" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="638.0522" LocationY="299.8668" Type="SAHL.X2Designer.Items.UserActivity" Id="18" Name="Decline" X2ID="f4c1beaf-2a47-46ba-8d96-6a0da2a3cb2c" Message="" StageTransitionMessage="" Description="" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="ProposalDecline" LinkedActivity="" UseLinkedActivity="False" FromNode="Decision on Proposal" ToNode="Manage Proposal">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Recoveries Manager" />
            <AccessCollection AccessCollectionItem="Loss Control Director" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Decline(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Decline(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA; // update the active proposal to not accepted&#xD;&#xA; IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA; bool success = debtcounsellingClient.UpdateActiveAcceptedProposal((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, false);&#xD;&#xA;&#xD;&#xA; if (success)&#xD;&#xA; {&#xD;&#xA;  List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;  statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;  statesToExclude.Add(&quot;Bond Exclusions&quot;);&#xD;&#xA;  statesToExclude.Add(&quot;Bond Exclusions Arrears&quot;);&#xD;&#xA;&#xD;&#xA;  IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;  success = workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;instance.ID, &#xD;&#xA;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&quot;Decline&quot;, &#xD;&#xA;&#x9;statesToExclude, &#xD;&#xA;&#x9;false,&#xD;&#xA;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA; }&#xD;&#xA; return success;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Decline(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Decline(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4406" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Decline Proposal" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="30.82313" LocationY="562.8666" Type="SAHL.X2Designer.Items.UserActivity" Id="16" Name="Payment Received" X2ID="6090fa94-5655-46ea-98fe-80b576e1540b" Message="" StageTransitionMessage="" Description="Payment Received" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="PaymentReceivedUpdate" LinkedActivity="" UseLinkedActivity="False" FromNode="Pend Payment" ToNode="Payment Review">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Payment_Received(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;return debtcounsellingClient.CheckPaymentReceivedRules((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, param.IgnoreWarning);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Payment_Received(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;// assign to Supervisor&#xD;&#xA;&#x9;List&lt;string&gt; statesToInclude = new List&lt;string&gt;();&#xD;&#xA;&#x9;statesToInclude.Add(&quot;Recoveries Proposal Decision&quot;);&#xD;&#xA;&#x9;statesToInclude.Add(&quot;Decision on Proposal&quot;);&#xD;&#xA;&#x9;statesToInclude.Add(&quot;Payment Review&quot;);&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingSupervisorD, &#xD;&#xA;&#x9;&#x9;&quot;Payment Received&quot;, &#xD;&#xA;&#x9;&#x9;statesToInclude, &#xD;&#xA;&#x9;&#x9;true,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Payment_Received(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Payment_Received(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4430" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Payment Received" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="554.9665" LocationY="572.8666" Type="SAHL.X2Designer.Items.ExternalActivity" Id="17" Name="EXT Into Arrears" X2ID="8ceec652-2266-4232-aec7-f3b54961a796" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" ExternalActivityRaiseFolder="This Instance" InvokedBy="DebtCounsellingArrears" FromNode="Debt Review Approved" ToNode="Default in Payment">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_EXT_Into_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_EXT_Into_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;// assign the case to DebtCounsellingConsultant&#xD;&#xA;&#x9;List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&quot;Default in Payment&quot;, &#xD;&#xA;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_EXT_Into_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_EXT_Into_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4432" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Default in Payment" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="362.9117" LocationY="665.8655" Type="SAHL.X2Designer.Items.UserActivity" Id="19" Name="Terminate Application" X2ID="b692614e-d48c-4835-9398-f47b40ee27e3" Message="" StageTransitionMessage="" Description="" Priority="0" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="DebtCounsellingTermination" LinkedActivity="" UseLinkedActivity="False" FromNode="Common Terminate" ToNode="Termination ">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant D" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant D" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Terminate_Application(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Terminate_Application(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;debtcounsellingClient.RollbackTransaction((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey);&#xD;&#xA;&#x9;//Ensure role assignment is either court consultant or debt counselling consultant depending on the assignment from the state the case came from. &#xD;&#xA;&#x9;List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Bond Exclusions&quot;);&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Bond Exclusions Arrears&quot;);&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&quot;Intent to Terminate&quot;, &#xD;&#xA;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Terminate_Application(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Terminate_Application(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4421" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Terminate Application" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="305.0523" LocationY="743.8655" Type="SAHL.X2Designer.Items.TimedActivity" Id="" Name="5days" X2ID="549bf3fd-f9c0-43cc-9755-8142dea33c9f" Message="" StageTransitionMessage="" Description="" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" FromNode="Intent to Terminate" ToNode="Termination ">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_5days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;return debtcounsellingClient.CheckFiveDaysTerminationReminderRules((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, param.IgnoreWarning);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_5days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA; IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA; debtcounsellingClient.RollbackTransaction((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey);&#xD;&#xA;&#x9;&#xD;&#xA; ICommon common = DomainServiceLoader.Instance.Get&lt;ICommon&gt;();&#xD;&#xA; common.AddReasons((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, (int)SAHL.Common.Globals.ReasonDescriptions.NoArrangementNotReferredToCourtAndNoPaymentsInTermsOfProposal,(int)SAHL.Common.Globals.ReasonTypes.DebtCounsellingTermination);&#xD;&#xA; //Ensure role assignment is either court consultant or debt counselling consultant depending on the assignment from the state the case came from. &#xD;&#xA; List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA; IWorkflowAssignment assignment = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA; return assignment.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&quot;Intent to Terminate&quot;, &#xD;&#xA;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_5days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnTimedActivity" Code="public DateTime GetActivityTime_5days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;ICommon common = DomainServiceLoader.Instance.Get&lt;ICommon&gt;();&#xD;&#xA;&#x9;return common.GetnWorkingDaysFromToday((IDomainMessageCollection)messages, 5);&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4422" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Termination Letter to be Sent" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="1025.729" LocationY="503.8668" Type="SAHL.X2Designer.Items.UserActivity" Id="19" Name="Attorney to Oppose" X2ID="1954d7b7-8d45-4b7f-bdf0-4a005d5f6b58" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="DebtCounselling_Correspondence_InstructAttorney" LinkedActivity="" UseLinkedActivity="False" FromNode="Common Court Date" ToNode="Pend Court Decision">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Attorney_to_Oppose(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;return debtcounsellingClient.CheckAttorneyToOpposeRules((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, true);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Attorney_to_Oppose(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;Debt_Counselling_Data.CourtCase = true;&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Bond Exclusions&quot;);&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Bond Exclusions Arrears&quot;);&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&quot;Attorney to Oppose&quot;, &#xD;&#xA;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Attorney_to_Oppose(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Attorney_to_Oppose(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4413" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Attorney to Oppose" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="606.99" LocationY="521.2062" Type="SAHL.X2Designer.Items.TimedActivity" Id="" Name="Term expired" X2ID="67ab2e52-d197-413b-99f0-445cc087d406" Message="" StageTransitionMessage="" Description="" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" FromNode="Debt Review Approved" ToNode="Term Review">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Term_expired(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Term_expired(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{ &#xD;&#xA;&#x9;//Ensure role assignment is either court consultant or debt counselling consultant depending on the assignment from the state the case came from. &#xD;&#xA;&#x9;List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&quot;Term Review&quot;, &#xD;&#xA;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Term_expired(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnTimedActivity" Code="public DateTime GetActivityTime_Term_expired(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;return debtcounsellingClient.GetReviewDate((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey).Value;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4436" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Review Term" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="475.4039" LocationY="424.2064" Type="SAHL.X2Designer.Items.UserActivity" Id="24" Name="Continue another term" X2ID="e029a07e-c4a2-4b03-a323-69699d6f61df" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="TermReviewUpdate" LinkedActivity="" UseLinkedActivity="False" FromNode="Term Review" ToNode="Debt Review Approved">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Continue_another_term(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Continue_another_term(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Continue_another_term(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Continue_another_term(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4437" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Current Proposal Term Extended" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="1015.031" LocationY="274.2968" Type="SAHL.X2Designer.Items.TimedActivity" Id="" Name="45 Days" X2ID="8c2b0e62-aaa0-4677-b04a-f065ecb7218e" Message="" StageTransitionMessage="" Description="" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" FromNode="Pend Proposal" ToNode="45 Days Check">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_45_Days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;ICommon common = DomainServiceLoader.Instance.Get&lt;ICommon&gt;();&#xD;&#xA;&#x9;bool timerPreviouslyFired = common.HasInstancePerformedActivity((IDomainMessageCollection)messages, instance.ID, &quot;45 Days Cancel&quot;);&#xD;&#xA;&#xD;&#xA;&#x9;if (!timerPreviouslyFired)&#xD;&#xA;&#x9;&#x9;return true; &#xD;&#xA;&#x9;else&#xD;&#xA;&#x9;&#x9;return false;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_45_Days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="// You must select and business stage transition to provide code behind." />
            <CodeSection Name="OnTimedActivity" Code="public DateTime GetActivityTime_45_Days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;return debtcounsellingClient.GetSeventeenPointOneDateDays((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, 45).Value;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions />
        </Activity>
        <Activity LocationX="124.5937" LocationY="234.0759" Type="SAHL.X2Designer.Items.ExternalActivity" Id="25" Name="Create Debt Counselling Case" X2ID="522fa192-ce8f-40b8-8adf-fc2b7b2c9a8a" Message="" StageTransitionMessage="" Description="" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" ExternalActivityRaiseFolder="" InvokedBy="" FromNode="ClapperBoard" ToNode="Review Notification">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Create_Debt_Counselling_Case(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; &#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Create_Debt_Counselling_Case(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;workflowAssignmentClient.AssignWorkflowRoleForADUser((IDomainMessageCollection)messages, instance.ID, param.ADUserName,SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingAdminD,Debt_Counselling_Data.DebtCounsellingKey,&quot;&quot;);&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;debtcounsellingClient.NTUOpenPersonalLoan((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey);&#xD;&#xA;&#x9;instance.Subject = debtcounsellingClient.GetInstanceSubjectForDebtCounselling((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey);&#xD;&#xA;&#x9;instance.Name = Debt_Counselling_Data.AccountKey.ToString();&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Create_Debt_Counselling_Case(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Create_Debt_Counselling_Case(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4400" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Advised Of Debt Counselling" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="891.2004" LocationY="377.4857" Type="SAHL.X2Designer.Items.UserActivity" Id="27" Name="Change in Circumstance" X2ID="30eab74f-571a-4ffd-984e-d47c101d87ca" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="ChangeOfCircumstance" LinkedActivity="" UseLinkedActivity="False" FromNode="Common Circumstance" ToNode="Manage Proposal">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Change_in_Circumstance(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Change_in_Circumstance(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Change_in_Circumstance(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Change_in_Circumstance(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4412" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Change in Circumstances" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="406.922" LocationY="102.0291" Type="SAHL.X2Designer.Items.UserActivity" Id="29" Name="Continue Litigation" X2ID="4556f349-36bb-4650-a0e0-6c4290b0cb68" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="WorkflowYesNo" LinkedActivity="" UseLinkedActivity="False" FromNode="Litigation" ToNode="Archive Litigation">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Foreclosure Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Continue_Litigation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Continue_Litigation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA; // send e reminder email to the ework consultant&#xD;&#xA; IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA; debtcounsellingClient.SendLitigationReminderInternalEmail((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey);&#xD;&#xA; &#xD;&#xA; // complete the activity even if the above email fails&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Continue_Litigation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Continue_Litigation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4403" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Continue Litigation" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="158.1642" LocationY="173.0288" Type="SAHL.X2Designer.Items.UserActivity" Id="30" Name="Continue Debt Review" X2ID="b7c9770e-a525-4b74-a81f-0ea79ecf5b25" Message="" StageTransitionMessage="" Description="" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="ContinueDebtReviewReason" LinkedActivity="" UseLinkedActivity="False" FromNode="Litigation" ToNode="Review Notification">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Foreclosure Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Continue_Debt_Review(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Continue_Debt_Review(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;bool success = true;&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;&#xD;&#xA; &#x9;// get details of the ework case&#xD;&#xA; &#x9;string eStageName,eFolderID,adUserName;&#xD;&#xA; &#x9;debtcounsellingClient.GetEworkDataForLossControlCase((IDomainMessageCollection)messages, Debt_Counselling_Data.AccountKey, out eStageName, out eFolderID, out adUserName);&#xD;&#xA;&#xD;&#xA; &#x9;// only fire the ework flag if there is an efolderid &#xD;&#xA; &#x9;if (!String.IsNullOrEmpty(eFolderID))&#xD;&#xA; &#x9;{&#xD;&#xA;  &#x9;&#x9;// decide if we need to pass username or not&#xD;&#xA;  &#x9;&#x9;// check the last reason inserted for the dc key if it is &quot;Manage DC&quot; then pass user - otherwise dont&#xD;&#xA;  &#x9;&#x9;string assignToUser = &quot;&quot;;&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;ICommon commonClient = DomainServiceLoader.Instance.Get&lt;ICommon&gt;();&#xD;&#xA;  &#x9;&#x9;int latestReasonDescriptionKey = commonClient.GetLatestReasonDescriptionKeyForGenericKey((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, (int)SAHL.Common.Globals.GenericKeyTypes.DebtCounselling);&#xD;&#xA;  &#x9;&#x9;if (latestReasonDescriptionKey==(int)SAHL.Common.Globals.ReasonDescriptions.ManageDC)&#xD;&#xA;   &#x9;&#x9;&#x9;assignToUser = adUserName;    &#xD;&#xA;  &#xD;&#xA;&#x9;&#x9;ICommon common = DomainServiceLoader.Instance.Get&lt;ICommon&gt;();&#xD;&#xA;&#x9;&#x9;success = common.PerformEWorkAction((IDomainMessageCollection)messages, eFolderID, SAHL.Common.Constants.EworkActionNames.X2DebtCounselling, Debt_Counselling_Data.DebtCounsellingKey, assignToUser, eStageName);&#xD;&#xA; &#x9;}&#xD;&#xA;&#xD;&#xA; &#x9;// if we have no errors then lets move the case&#xD;&#xA; &#x9;if (success)&#xD;&#xA; &#x9;{&#xD;&#xA;  &#x9;&#x9;// reassign to dc admin or load balance assign to new dc admin&#xD;&#xA;  &#x9;&#x9;List&lt;string&gt; statesToDetermineLoad = new List&lt;string&gt;();&#xD;&#xA;  &#x9;&#x9;statesToDetermineLoad.Add(&quot;Review Notification&quot;);&#xD;&#xA;  &#xD;&#xA;&#x9;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;  &#x9;&#x9;success = workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingAdminD, &#xD;&#xA;&#x9;&#x9;&#x9;&quot;Review Notification&quot;, &#xD;&#xA;&#x9;&#x9;&#x9;statesToDetermineLoad, &#xD;&#xA;&#x9;&#x9;&#x9;true,&#xD;&#xA;&#x9;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA; &#x9;} &#xD;&#xA; &#x9;return success;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Continue_Debt_Review(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Continue_Debt_Review(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4414" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Continue Debt Review" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="1675.45" LocationY="422.438" Type="SAHL.X2Designer.Items.UserActivity" Id="32" Name="Court Details" X2ID="cd8b9529-128a-480f-8ad7-8ee8dd6945b8" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="CourtDetailsAdd" LinkedActivity="" UseLinkedActivity="False" FromNode="Common Court" ToNode="Common Court">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant D" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant D" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Court_Details(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Court_Details(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;// if the hearing appearance type is 'consent order granted' we dont want to reassign the case&#xD;&#xA;&#x9;int hearingAppearanceTypeKey = param.Data == null ? 0 : Convert.ToInt32(param.Data);&#xD;&#xA;&#x9;if (hearingAppearanceTypeKey != (int)SAHL.Common.Globals.HearingAppearanceTypes.ConsentOrderGranted)&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase = true;&#xD;&#xA;&#x9;&#x9;List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#x9;&#xD;&#xA;&#x9;&#x9;statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;&#x9;&#x9;statesToExclude.Add(&quot;Bond Exclusions&quot;);&#xD;&#xA;&#x9;&#x9;statesToExclude.Add(&quot;Bond Exclusions Arrears&quot;);&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;&#x9;return workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&#x9;&quot;Court Details&quot;, &#xD;&#xA;&#x9;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;&#x9;false, &#xD;&#xA;&#x9;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;else&#xD;&#xA;&#x9;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="// You must select and business stage transition to provide code behind." />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Court_Details(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions />
        </Activity>
        <Activity LocationX="1267.723" LocationY="840.3456" Type="SAHL.X2Designer.Items.UserActivity" Id="34" Name="Capture Recoveries Proposal" X2ID="1787b196-f8f6-4089-addf-5897fb9bdaa7" Message="" StageTransitionMessage="" Description="" Priority="0" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="RecoveriesProposalCapture" LinkedActivity="" UseLinkedActivity="False" FromNode="Common Shortfall" ToNode="Recoveries Proposal">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Capture_Recoveries_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Capture_Recoveries_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Capture_Recoveries_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Capture_Recoveries_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4456" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Recoveries Proposal Received" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="1274.614" LocationY="272.3474" Type="SAHL.X2Designer.Items.UserActivity" Id="36" Name="Notified of Death" X2ID="e7c2770d-4698-4762-8d8a-b1554f32e22f" Message="" StageTransitionMessage="" Description="" Priority="0" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="LegalEntityDeathNotify" LinkedActivity="" UseLinkedActivity="False" FromNode="Common Litigation" ToNode="Estates and Sequestration">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant D" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant D" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Notified_of_Death(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Notified_of_Death(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Notified_of_Death(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Notified_of_Death(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4449" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Notified of Death" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="20" LocationY="343.3469" Type="SAHL.X2Designer.Items.UserActivity" Id="37" Name="Notification of Decision" X2ID="4def6708-590d-4718-8165-71471130ce3b" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="DebtCounselling_Correspondence_InstructAttorneyRespondToDC" LinkedActivity="" UseLinkedActivity="False" FromNode="Accepted Proposal" ToNode="Pend Payment">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Notification_of_Decision(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Notification_of_Decision(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Notification_of_Decision(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Notification_of_Decision(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4419" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Notification of Approval Decision" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="313.0937" LocationY="167.438" Type="SAHL.X2Designer.Items.UserActivity" Id="38" Name="Send to Litigation" X2ID="8f0b54b2-7400-4bac-a01c-2f7732454618" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="WorkflowYesNo" LinkedActivity="" UseLinkedActivity="False" FromNode="Review Notification" ToNode="Litigation">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Admin" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Recoveries Manager" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Send_to_Litigation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Send_to_Litigation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA; &#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;bool canSendToLitigation = false;&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;// run rules to see if this case can be moved to litigation&#xD;&#xA;&#x9;canSendToLitigation = debtcounsellingClient.CheckSendToLitigationRules((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, true);&#xD;&#xA;&#x9;if (canSendToLitigation)&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;string eStageName = String.Empty;&#xD;&#xA;&#x9;&#x9;string eFolderID = String.Empty;&#xD;&#xA;&#x9;&#x9;string adUserName = String.Empty;&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;// if rules pass then lets get the user thats assigned to the loss control case&#xD;&#xA;&#x9;&#x9;debtcounsellingClient.GetEworkDataForLossControlCase((IDomainMessageCollection)messages, Debt_Counselling_Data.AccountKey, out eStageName, out eFolderID, out adUserName);&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;// before we assign the case lts makse sure the user is still in correct workflow role&#xD;&#xA;&#x9;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;&#x9;bool userInWorkflowRole = workflowAssignmentClient.CheckUserInWorkflowRole((IDomainMessageCollection)messages, adUserName, (int)SAHL.Common.Globals.WorkflowRoleTypes.ForeclosureConsultantD);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;if (userInWorkflowRole)&#xD;&#xA;&#x9;&#x9;{&#xD;&#xA;&#x9;&#x9;&#x9;// Deactivate All WorkflowRoleAssigments For Instance&#xD;&#xA;&#x9;&#x9;&#x9;workflowAssignmentClient.DeactivateAllWorkflowRoleAssigmentsForInstance((IDomainMessageCollection)messages, instance.ID);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;   &#x9;// only assign the case if the user in correct workflow role&#xD;&#xA;&#x9;&#x9;&#x9;workflowAssignmentClient.AssignWorkflowRoleForADUser((IDomainMessageCollection)messages, instance.ID, adUserName, SAHL.Common.Globals.WorkflowRoleTypes.ForeclosureConsultantD, Debt_Counselling_Data.DebtCounsellingKey, &quot;&quot;);&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;else&#xD;&#xA;&#x9;&#x9;{&#xD;&#xA;&#x9;&#x9;&#x9;canSendToLitigation = false;&#xD;&#xA;&#x9;&#x9;&#x9;messages.AddMessage(new SystemMessage(&quot;The E-Work User (&quot; + adUserName + &quot;) assigned to this case is not a Foreclosure Consultant&quot;, SystemMessageSeverityEnum.Error));&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;Debt_Counselling_Data.SentToLitigation = canSendToLitigation;&#xD;&#xA;&#x9;return canSendToLitigation;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Send_to_Litigation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Send_to_Litigation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4402" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Send to Litigation" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="772.883" LocationY="466.0739" Type="SAHL.X2Designer.Items.UserActivity" Id="37" Name="Court Order Granted" X2ID="d24a0ee9-d293-4ccb-86f6-023a70cc9e53" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="WorkflowYesNo" LinkedActivity="" UseLinkedActivity="False" FromNode="Pend Court Decision" ToNode="Manage Proposal">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Court_Order_Granted(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Court_Order_Granted(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&quot;Court Order Granted&quot;, &#xD;&#xA;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Court_Order_Granted(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Court_Order_Granted(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4411" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Court Order Granted" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="44.72681" LocationY="959.4682" Type="SAHL.X2Designer.Items.ExternalActivity" Id="41" Name="EXT_60daynodateorpay" X2ID="a32e8328-09c9-4d4b-bfde-ceae73432c09" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" ExternalActivityRaiseFolder="Child Instance" InvokedBy="EXT60DayNoDateNoPay" FromNode="Common 60 Day" ToNode="Check No Date No Pay">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_EXT_60daynodateorpay(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; Debt_Counselling_Data.PreviousState = param.StateName;&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_EXT_60daynodateorpay(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="// You must select and business stage transition to provide code behind." />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_EXT_60daynodateorpay(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions />
        </Activity>
        <Activity LocationX="1093.727" LocationY="93.8777" Type="SAHL.X2Designer.Items.TimedActivity" Id="" Name="60 days" X2ID="76e917f6-664d-4624-89ed-ea2f85043021" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="EXT60DayNoDateNoPay" SplitWorkFlow="False" FromNode="60DayTimerHold" ToNode="Archive 60days">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_60_days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_60_days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_60_days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnTimedActivity" Code="public DateTime GetActivityTime_60_days(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;return debtcounsellingClient.GetSeventeenPointOneDateDays((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, 60).Value;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4423" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="60 days Lapsed" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="184.5783" LocationY="830.4681" Type="SAHL.X2Designer.Items.ConditionalActivity" Id="39" Name="No Court Date or Deposit" X2ID="d96d1955-9720-4778-b151-53f810591029" Message="60 Days Lapsed" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" FromNode="Check No Date No Pay" ToNode="Intent to Terminate">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_No_Court_Date_or_Deposit(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA; &#x9;return debtcounsellingClient.CheckNoDateNoPayRules((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, param.IgnoreWarning);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_No_Court_Date_or_Deposit(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_No_Court_Date_or_Deposit(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_No_Court_Date_or_Deposit(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4425" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="GoToIntentToTerminate" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="341.8127" LocationY="959.4682" Type="SAHL.X2Designer.Items.ConditionalActivity" Id="40" Name="Court Date or Deposit" X2ID="6f33e5b5-e749-4b65-bfe7-ad6b98c6fba4" Message="60 Days Lapsed" StageTransitionMessage="" Description="" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" FromNode="Check No Date No Pay" ToNode="60 Days Review">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Court_Date_or_Deposit(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Court_Date_or_Deposit(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Court_Date_or_Deposit(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Court_Date_or_Deposit(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4427" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="To60DaysReview" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="885.0498" LocationY="557.56" Type="SAHL.X2Designer.Items.ExternalActivity" Id="39" Name="EXT Under Cancellation" X2ID="9e7151f8-d1e6-42f6-a6b9-0603d6505d3a" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" ExternalActivityRaiseFolder="This Instance" InvokedBy="UnderCancellation" FromNode="Common ML Cancel" ToNode="Pend Cancellation">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_EXT_Under_Cancellation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_EXT_Under_Cancellation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA; //set teh previous state for when this cancellation is canceled and needs to return&#xD;&#xA; Debt_Counselling_Data.PreviousState = param.StateName;&#xD;&#xA; &#xD;&#xA; // assign the case to DebtCounsellingConsultant&#xD;&#xA;  List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;  statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;&#x9;IWorkflowAssignment assignment = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;  return assignment.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&quot;Pend Proposal&quot;, &#xD;&#xA;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_EXT_Under_Cancellation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_EXT_Under_Cancellation(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4561" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="UnderCancellation" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="903.8675" LocationY="316.0735" Type="SAHL.X2Designer.Items.UserActivity" Id="41" Name="Negotiate Proposal" X2ID="9d1af824-e4d0-4d85-97f0-715ca27fea1c" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="WorkflowYesNo" LinkedActivity="" UseLinkedActivity="False" FromNode="Common Negotiate Proposal" ToNode="Manage Proposal">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant D" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant D" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Negotiate_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Negotiate_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Negotiate_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Negotiate_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4448" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Negotiate Proposal" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="1387.857" LocationY="304.8781" Type="SAHL.X2Designer.Items.UserActivity" Id="42" Name="Notified of Sequestration" X2ID="db222c56-face-4804-b4c9-1aa588663065" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="LegalEntitySequestrationNotify" LinkedActivity="" UseLinkedActivity="False" FromNode="Common Litigation" ToNode="Estates and Sequestration">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant D" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant D" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Notified_of_Sequestration(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Notified_of_Sequestration(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Notified_of_Sequestration(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Notified_of_Sequestration(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4450" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Notified of Sequestration" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="119.0706" LocationY="519.8777" Type="SAHL.X2Designer.Items.UserActivity" Id="43" Name="Inadequate Payment" X2ID="3fb56216-4a05-40b1-a78f-6f0164bf63fe" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="WorkflowYesNo" LinkedActivity="" UseLinkedActivity="False" FromNode="Payment Review" ToNode="Pend Payment">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Recoveries Manager" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Inadequate_Payment(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Inadequate_Payment(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;// assign to Debt Counselling Consultant&#xD;&#xA;&#x9;List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Bond Exclusions&quot;);&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Bond Exclusions Arrears&quot;);&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&quot;Pend Payment&quot;, &#xD;&#xA;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Inadequate_Payment(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Inadequate_Payment(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4435" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Inadequate Payment" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="376.5315" LocationY="564.8775" Type="SAHL.X2Designer.Items.UserActivity" Id="44" Name="Payment in Order" X2ID="651709c1-d1a2-432c-b2ff-47f6a2b74c5d" Message="" StageTransitionMessage="" Description="" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="WorkflowYesNo" LinkedActivity="" UseLinkedActivity="False" FromNode="Payment Review" ToNode="Debt Review Approved">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Recoveries Manager" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Payment_in_Order(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Payment_in_Order(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA; //Update the Debt Counselling Review Arrangement&#xD;&#xA; IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA; bool success = debtcounsellingClient.UpdateDebtCounsellingDebtReviewArrangement((IDomainMessageCollection)messages, Debt_Counselling_Data.AccountKey, param.ADUserName);&#xD;&#xA; &#xD;&#xA; if(success)&#xD;&#xA; {&#xD;&#xA;  // assign to Debt Counslling Consultant&#xD;&#xA;  List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;  statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;  statesToExclude.Add(&quot;Bond Exclusions&quot;);&#xD;&#xA;  statesToExclude.Add(&quot;Bond Exclusions Arrears&quot;);&#xD;&#xA;  &#xD;&#xA;  IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;  success = workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;instance.ID, &#xD;&#xA;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&quot;Debt Review Approved&quot;, &#xD;&#xA;&#x9;statesToExclude, &#xD;&#xA;&#x9;false,&#xD;&#xA;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA; }&#xD;&#xA; return success;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Payment_in_Order(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Payment_in_Order(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4434" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Payment in Order" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="1546.286" LocationY="416.438" Type="SAHL.X2Designer.Items.UserActivity" Id="45" Name="Reallocate User" X2ID="9e2dae79-ec8d-4d2b-aab3-e641c59a4c49" Message="" StageTransitionMessage="" Description="" Priority="0" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="DebtCounsellingAssignSupervisor" LinkedActivity="" UseLinkedActivity="False" FromNode="Common Reallocate" ToNode="Common Reallocate">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Recoveries Manager" />
            <AccessCollection AccessCollectionItem="Loss Control Director" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Reallocate_User(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Reallocate_User(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA; if (String.IsNullOrEmpty(Debt_Counselling_Data.AssignADUserName) || Debt_Counselling_Data.AssignWorkflowRoleTypeKey &lt;= 0)&#xD;&#xA; {&#xD;&#xA;  // show the message if required fields not selected&#xD;&#xA;&#x9;messages.AddMessage(new SystemMessage(&quot;User must be selected&quot;, SystemMessageSeverityEnum.Error));&#xD;&#xA;&#x9;return false;&#xD;&#xA; }&#xD;&#xA; else&#xD;&#xA; {&#xD;&#xA;  SAHL.Common.Globals.WorkflowRoleTypes workflowRoleType = (SAHL.Common.Globals.WorkflowRoleTypes)Debt_Counselling_Data.AssignWorkflowRoleTypeKey;&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;  workflowAssignmentClient.AssignWorkflowRoleForADUser((IDomainMessageCollection)messages, instance.ID, Debt_Counselling_Data.AssignADUserName,workflowRoleType,Debt_Counselling_Data.DebtCounsellingKey,&quot;&quot;);&#xD;&#xA;  return true;&#xD;&#xA; } &#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Reallocate_User(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Reallocate_User(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4433" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Reallocate User" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="113.6904" LocationY="709.4378" Type="SAHL.X2Designer.Items.UserActivity" Id="46" Name="Send Intent to Terminate" X2ID="4458dd73-71cc-4666-8309-9a84b2fba131" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="DebtCounselling_Correspondence_SendIntentionToTerminate" LinkedActivity="" UseLinkedActivity="False" FromNode="Intent to Terminate" ToNode="Intent to Terminate">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Send_Intent_to_Terminate(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Send_Intent_to_Terminate(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Send_Intent_to_Terminate(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Send_Intent_to_Terminate(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4572" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Intent To Terminate" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="878.5965" LocationY="617.4378" Type="SAHL.X2Designer.Items.ExternalActivity" Id="46" Name="Under Cancellation Removed" X2ID="80ef1f6c-6b89-49b5-8195-727c41e18fa0" Message="" StageTransitionMessage="" Description="" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" ExternalActivityRaiseFolder="This Instance" InvokedBy="UnderCancellationRemoved" FromNode="Pend Cancellation" ToNode="Return to State">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Under_Cancellation_Removed(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Under_Cancellation_Removed(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA; // assign the case to DebtCounsellingConsultant for the previous state&#xD;&#xA;  List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;  statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;  return workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.PreviousState, &#xD;&#xA;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Under_Cancellation_Removed(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Under_Cancellation_Removed(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4562" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="UnderCancellationRemoved" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="1572.883" LocationY="91.43799" Type="SAHL.X2Designer.Items.UserActivity" Id="47" Name="Send Counter Proposal" X2ID="bab9fabb-653c-4fc3-97ab-cdef2c138556" Message="" StageTransitionMessage="" Description="" Priority="0" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="DebtCounselling_Correspondence_SendCounterProposal" LinkedActivity="" UseLinkedActivity="False" FromNode="Common Counter Proposal" ToNode="Common Counter Proposal">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant D" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant D" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Send_Counter_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;return debtcounsellingClient.CheckSendCounterProposalRules((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, param.IgnoreWarning);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Send_Counter_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Send_Counter_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Send_Counter_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4573" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Send Counter Proposal" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="1266.747" LocationY="693.3468" Type="SAHL.X2Designer.Items.UserActivity" Id="48" Name=" Escalate Recoveries Proposal" X2ID="aed7e101-b0d8-4781-b34f-7bc742dd7a51" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="DebtCounsellingAssignSupervisor" LinkedActivity="" UseLinkedActivity="False" FromNode="Recoveries Proposal" ToNode="Recoveries Proposal Decision">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity__Escalate_Recoveries_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity__Escalate_Recoveries_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA; SAHL.Common.Globals.WorkflowRoleTypes workflowRoleType = (SAHL.Common.Globals.WorkflowRoleTypes)Debt_Counselling_Data.AssignWorkflowRoleTypeKey;&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA; workflowAssignmentClient.AssignWorkflowRoleForADUser((IDomainMessageCollection)messages, instance.ID, Debt_Counselling_Data.AssignADUserName,workflowRoleType,Debt_Counselling_Data.DebtCounsellingKey,&quot;&quot;);&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition__Escalate_Recoveries_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage__Escalate_Recoveries_Proposal(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4457" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Escalate Recoveries Proposal" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="1160.318" LocationY="569.3467" Type="SAHL.X2Designer.Items.UserActivity" Id="49" Name="Approve Shortfall" X2ID="14006e25-2d59-4883-be37-38457c223d8b" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="WorkflowYesNo" LinkedActivity="" UseLinkedActivity="False" FromNode="Recoveries Proposal Decision" ToNode="Pend Cancellation">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Recoveries Manager" />
            <AccessCollection AccessCollectionItem="Loss Control Director" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Approve_Shortfall(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Approve_Shortfall(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;// assign case back to consultant&#xD;&#xA;&#x9;List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Bond Exclusions&quot;);&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Bond Exclusions Arrears&quot;);&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&quot;Pend Cancellation&quot;, &#xD;&#xA;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Approve_Shortfall(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Approve_Shortfall(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4570" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Approve Shortfall" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="1159.333" LocationY="616.3468" Type="SAHL.X2Designer.Items.UserActivity" Id="50" Name="Decline Shortfall" X2ID="b42683cd-026b-4b3a-8fc2-925a32b936c8" Message="" StageTransitionMessage="" Description="" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="WorkflowYesNo" LinkedActivity="" UseLinkedActivity="False" FromNode="Recoveries Proposal Decision" ToNode="Pend Cancellation">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Recoveries Manager" />
            <AccessCollection AccessCollectionItem="Loss Control Director" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Decline_Shortfall(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Decline_Shortfall(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;// assign case back to consultant&#xD;&#xA;&#x9;List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Bond Exclusions&quot;);&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Bond Exclusions Arrears&quot;);&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&quot;Pend Cancellation&quot;, &#xD;&#xA;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Decline_Shortfall(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Decline_Shortfall(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4571" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Decline Shortfall" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="585.784" LocationY="959.7561" Type="SAHL.X2Designer.Items.UserActivity" Id="51" Name="Continue Debt Counselling" X2ID="3a0d3489-2c37-4ea8-b75d-657115211b3a" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="WorkflowYesNo" LinkedActivity="" UseLinkedActivity="False" FromNode="60 Days Review" ToNode="Return To Previous State">
          <Access>
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Continue_Debt_Counselling(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Continue_Debt_Counselling(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="// You must select and business stage transition to provide code behind." />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Continue_Debt_Counselling(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions />
        </Activity>
        <Activity LocationX="875.8362" LocationY="92.84689" Type="SAHL.X2Designer.Items.ConditionalActivity" Id="52" Name="60DayCloneCreate" X2ID="7705f427-a6fb-48b8-8dbb-3cf71395bfd8" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="True" FromNode="Pend Proposal" ToNode="60DayTimerHold">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_60DayCloneCreate(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{ &#xD;&#xA;&#x9;List&lt;string&gt; statesToInclude = new List&lt;string&gt;();&#xD;&#xA;&#x9;statesToInclude.Add(&quot;60DayTimerHold&quot;);&#xD;&#xA;&#x9;statesToInclude.Add(&quot;Archive 60days&quot;);&#xD;&#xA;&#x9;ICommon common = DomainServiceLoader.Instance.Get&lt;ICommon&gt;();&#xD;&#xA;&#x9;return common.CloneExistsForParent((IDomainMessageCollection)messages, instance.ID, statesToInclude);  &#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_60DayCloneCreate(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="// You must select and business stage transition to provide code behind." />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_60DayCloneCreate(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions />
        </Activity>
        <Activity LocationX="939.2892" LocationY="142.8467" Type="SAHL.X2Designer.Items.UserActivity" Id="53" Name="45 day reminder sent" X2ID="1d878b0c-ca22-416d-bfb8-36b5dc5c7259" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="WorkflowYesNo" LinkedActivity="" UseLinkedActivity="False" FromNode="45 Day Reminder" ToNode="Pend Proposal">
          <Access>
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_45_day_reminder_sent(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_45_day_reminder_sent(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_45_day_reminder_sent(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_45_day_reminder_sent(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4447" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="45 Day Reminder Sent" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="1278.813" LocationY="224.8469" Type="SAHL.X2Designer.Items.ConditionalActivity" Id="54" Name="45 Days Lapsed" X2ID="29e91f2c-5083-4aa2-a9b4-a41a07f59b53" Message="" StageTransitionMessage="" Description="" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" FromNode="45 Days Check" ToNode="45 Day Reminder">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_45_Days_Lapsed(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_45_Days_Lapsed(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_45_Days_Lapsed(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_45_Days_Lapsed(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4426" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="45 Day Reminder" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="997.6771" LocationY="224.8469" Type="SAHL.X2Designer.Items.ConditionalActivity" Id="55" Name="45 Days Cancel" X2ID="dce9a5e3-3bbd-4d02-b15f-f630e2192088" Message=" " StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" FromNode="45 Days Check" ToNode="Pend Proposal">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_45_Days_Cancel(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; &#x9;bool courtDatesExist = false;&#xD;&#xA;&#x9;bool timerPreviouslyFired = false;&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;ICommon common = DomainServiceLoader.Instance.Get&lt;ICommon&gt;();&#xD;&#xA;&#x9;timerPreviouslyFired = common.HasInstancePerformedActivity((IDomainMessageCollection)messages, instance.ID, &quot;45 Days Lapsed&quot;);&#xD;&#xA;&#xD;&#xA;&#x9;if (!timerPreviouslyFired)&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;&#x9;courtDatesExist = debtcounsellingClient.CheckFortyFiveDayReminderRules((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, param.IgnoreWarning);&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;if (timerPreviouslyFired || courtDatesExist)&#xD;&#xA;&#x9;&#x9;return true; &#xD;&#xA;&#x9;else&#xD;&#xA;&#x9;&#x9;return false;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_45_Days_Cancel(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="// You must select and business stage transition to provide code behind." />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_45_Days_Cancel(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions />
        </Activity>
        <Activity LocationX="483.0758" LocationY="623.8468" Type="SAHL.X2Designer.Items.ExternalActivity" Id="51" Name="EXT Out of Arrears" X2ID="e437f68b-a0b1-40d7-8668-7e3c2cd6594b" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" ExternalActivityRaiseFolder="This Instance" InvokedBy="DebtCounsellingArrears" FromNode="Default in Payment" ToNode="Debt Review Approved">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_EXT_Out_of_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_EXT_Out_of_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_EXT_Out_of_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_EXT_Out_of_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4442" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Arrears Cleared" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="695.4325" LocationY="423.8467" Type="SAHL.X2Designer.Items.UserActivity" Id="57" Name="Consultant Decline" X2ID="e1f10731-75ce-41c5-aed4-e403bd63e0bc" Message="" StageTransitionMessage="" Description="" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="ConsultantDecline" LinkedActivity="" UseLinkedActivity="False" FromNode="Manage Proposal" ToNode="Manage Proposal">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Consultant_Decline(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Consultant_Decline(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Consultant_Decline(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Consultant_Decline(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4465" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Consultant Decline Reasons" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="132.8102" LocationY="415.8467" Type="SAHL.X2Designer.Items.ConditionalActivity" Id="58" Name="Opt Out Not Required" X2ID="a021e561-baec-4bd8-8e47-151ae4e92733" Message="" StageTransitionMessage="" Description="" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" FromNode="Opt Out Check" ToNode="Accepted Proposal">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Opt_Out_Not_Required(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; &#x9;// Opt out all non Variable Accounts&#xD;&#xA;    // and Accounts with the following active Rate Overrides:&#xD;&#xA;    // -- Interest Only&#xD;&#xA;    // -- Defending Cancellations&#xD;&#xA;    // -- Staff&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;ICommon commonClient = DomainServiceLoader.Instance.Get&lt;ICommon&gt;();&#xD;&#xA;&#xD;&#xA;&#x9;if (debtcounsellingClient.DebtCounsellingOptOutRequired((IDomainMessageCollection)messages, Debt_Counselling_Data.AccountKey))&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;// Opt was required and has not been completed - move to fail stage&#xD;&#xA;&#x9;&#x9;return false;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;else&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;    // check if the loan is non-performing and if so opt it out&#xD;&#xA;&#x9;&#x9;commonClient.OptOutNonPerformingLoan((IDomainMessageCollection)messages, Debt_Counselling_Data.AccountKey);&#xD;&#xA;&#x9;&#x9;// Opt out is not required, continue to create DC rates and overrides&#xD;&#xA;&#x9;&#x9;return debtcounsellingClient.ConvertDebtCounselling((IDomainMessageCollection)messages, Debt_Counselling_Data.AccountKey, param.ADUserName);&#xD;&#xA;&#x9;}&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Opt_Out_Not_Required(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Opt_Out_Not_Required(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Opt_Out_Not_Required(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4582" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Account Adjusted" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="322.5263" LocationY="405.8467" Type="SAHL.X2Designer.Items.ConditionalActivity" Id="59" Name="Opt Out Required" X2ID="ccd70021-266b-472d-8e4c-a9306e325dfa" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" FromNode="Opt Out Check" ToNode="Send Loan Agreements">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Opt_Out_Required(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;return debtcounsellingClient.DebtCounsellingOptOutRequired((IDomainMessageCollection)messages, Debt_Counselling_Data.AccountKey);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Opt_Out_Required(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;//opt into New Variable for Loan Agreements&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;return debtcounsellingClient.ProcessDebtCounsellingOptOut((IDomainMessageCollection)messages, Debt_Counselling_Data.AccountKey, param.ADUserName);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Opt_Out_Required(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Opt_Out_Required(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4575" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Opt Out Yes" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="166.5159" LocationY="456.8467" Type="SAHL.X2Designer.Items.UserActivity" Id="60" Name="Signed Documents Received" X2ID="dbe7c172-ab18-42c0-884a-f187581e7b73" Message="" StageTransitionMessage="" Description="Received Loan Agreement " Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="WorkflowYesNo" LinkedActivity="" UseLinkedActivity="False" FromNode="Send Loan Agreements" ToNode="Opt Out Check">
          <Access>
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Signed_Documents_Received(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Signed_Documents_Received(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Signed_Documents_Received(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Signed_Documents_Received(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4566" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Opt Out Legal Documents Received" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="412.3805" LocationY="478.8469" Type="SAHL.X2Designer.Items.UserActivity" Id="61" Name="Send Documents" X2ID="7b6f0b2b-c227-4c83-8283-1288d256a1f0" Message="" StageTransitionMessage="" Description="Send Loan Agreement" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="DebtCounselling_Correspondence_SendStandardVariableLoanAgreement" LinkedActivity="" UseLinkedActivity="False" FromNode="Send Loan Agreements" ToNode="Send Loan Agreements">
          <Access>
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Send_Documents(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Send_Documents(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Send_Documents(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Send_Documents(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4565" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Send Opt Out Legal Documents" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="215.3492" LocationY="1055.847" Type="SAHL.X2Designer.Items.UserActivity" Id="62" Name="Exclude Bond" X2ID="5d8d7b5e-eab1-4530-a5a0-d9f9a2d17896" Message="" StageTransitionMessage="" Description="Exclude Bond" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="WorkflowYesNo" LinkedActivity="" UseLinkedActivity="False" FromNode="Common Exclude Bond" ToNode="Bond Exclusions">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Exclude_Bond(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Exclude_Bond(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;// assign the case to DebtCounsellingConsultant&#xD;&#xA;&#x9;List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Bond Exclusions&quot;);&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Bond Exclusions Arrears&quot;);&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&quot;Bond Exclusions&quot;, &#xD;&#xA;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Exclude_Bond(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Exclude_Bond(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4567" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Debt Counselling Bond Exclusion" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="496.9117" LocationY="1013.847" Type="SAHL.X2Designer.Items.ExternalActivity" Id="63" Name="Ext Into Bond Excl Arrears" X2ID="f711ba79-dafe-440f-a275-4da8d086bcc3" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" ExternalActivityRaiseFolder="This Instance" InvokedBy="Into Bond Exclusion Arrears" FromNode="Bond Exclusions" ToNode="Bond Exclusions Arrears">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Ext_Into_Bond_Excl_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Ext_Into_Bond_Excl_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;// assign the case to DebtCounsellingConsultant&#xD;&#xA;&#x9;List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&quot;Bond Exclusions Arrears&quot;, &#xD;&#xA;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Ext_Into_Bond_Excl_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Ext_Into_Bond_Excl_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4568" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Debt Counselling Bond Exclusion Arrears IN" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="498.2112" LocationY="1088.847" Type="SAHL.X2Designer.Items.ExternalActivity" Id="64" Name="Ext Out Bond Excl Arrears" X2ID="044da38d-52c8-4d58-8278-6cdc875459fe" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" ExternalActivityRaiseFolder="This Instance" InvokedBy="Out Bond Exclusion Arrears" FromNode="Bond Exclusions Arrears" ToNode="Bond Exclusions">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Ext_Out_Bond_Excl_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Ext_Out_Bond_Excl_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;// assign the case to DebtCounsellingConsultant&#xD;&#xA;&#x9;List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;&#x9;statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&quot;Bond Exclusions&quot;, &#xD;&#xA;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Ext_Out_Bond_Excl_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Ext_Out_Bond_Excl_Arrears(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4569" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Debt Counselling Bond Exclusion Arrears OUT" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="1403.406" LocationY="401.8469" Type="SAHL.X2Designer.Items.UserActivity" Id="65" Name="Send Decline Letter" X2ID="1f498045-30c4-4e14-ad27-c2b96d64614b" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="DebtCounselling_Correspondence_SendDeclineLetter" LinkedActivity="" UseLinkedActivity="False" FromNode="Send Decline" ToNode="Send Decline">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Send_Decline_Letter(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;return debtcounsellingClient.CheckSendDeclineLetterRules((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, param.IgnoreWarning);&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Send_Decline_Letter(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Send_Decline_Letter(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;  return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Send_Decline_Letter(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4574" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Send Decline Letter" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="1258.039" LocationY="418.0912" Type="SAHL.X2Designer.Items.UserActivity" Id="64" Name="Update Case Details" X2ID="a5e7bf3a-7b87-4698-aa58-c643c415dac6" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="DebtCounsellingDetailsUpdate" LinkedActivity="" UseLinkedActivity="False" FromNode="Common Update Case Details" ToNode="Common Update Case Details">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Admin" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Recoveries Manager" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Update_Case_Details(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Update_Case_Details(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="// You must select and business stage transition to provide code behind." />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Update_Case_Details(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions />
        </Activity>
        <Activity LocationX="107.6302" LocationY="287.0912" Type="SAHL.X2Designer.Items.ConditionalActivity" Id="64" Name="Failed To Opt Out" X2ID="e5e13b2b-6b43-4991-ad57-bc03a8a49273" Message="" StageTransitionMessage="" Description="" Priority="3" RaiseExternalActivity="" SplitWorkFlow="False" FromNode="Opt Out Check" ToNode="Opt Out Failed">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Failed_To_Opt_Out(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Failed_To_Opt_Out(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="// You must select and business stage transition to provide code behind." />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Failed_To_Opt_Out(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions />
        </Activity>
        <Activity LocationX="382.3854" LocationY="287.0912" Type="SAHL.X2Designer.Items.UserActivity" Id="65" Name="Opt Out" X2ID="ad00ed25-e743-4e4b-90d6-b06df1583e2d" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="WorkflowYesNo" LinkedActivity="" UseLinkedActivity="False" FromNode="Opt Out Failed" ToNode="Opt Out Check">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Opt_Out(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Opt_Out(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="// You must select and business stage transition to provide code behind." />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Opt_Out(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions />
        </Activity>
        <Activity LocationX="631.0703" LocationY="743.091" Type="SAHL.X2Designer.Items.UserActivity" Id="66" Name="Bypass 10 Day Timer" X2ID="0345e834-e9d8-43a9-a36d-e78d5e879e08" Message="" StageTransitionMessage="" Description="" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="WorkflowYesNo" LinkedActivity="" UseLinkedActivity="False" FromNode="Termination Letter Sent" ToNode="Termination Archive">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Bypass_10_Day_Timer(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Bypass_10_Day_Timer(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Bypass_10_Day_Timer(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Bypass_10_Day_Timer(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4440" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Debt Counselling Terminated" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="893.25" LocationY="968.9532" Type="SAHL.X2Designer.Items.UserActivity" Id="68" Name="Cancel PL Debt Counselling" X2ID="68a32ed9-688d-4182-823f-86f455b9a635" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="DebtCounsellingPersonalLoansCancelled" LinkedActivity="" UseLinkedActivity="False" FromNode="Common PL Cancel" ToNode="Archive Debt Counselling">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Admin D" />
            <AccessCollection AccessCollectionItem="Debt Counselling Consultant D" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Cancel_PL_Debt_Counselling(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;if (Debt_Counselling_Data.ProductKey == 12)&#x9;// Personal Loan&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;return true;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;else&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;return false;&#xD;&#xA;&#x9;}&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Cancel_PL_Debt_Counselling(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA; &#x9;debtcounsellingClient.UpdateDebtCounsellingStatus((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey, (int)SAHL.Common.Globals.DebtCounsellingStatuses.Cancelled);&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Cancel_PL_Debt_Counselling(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Cancel_PL_Debt_Counselling(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4428" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Debt Review Cancelled" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="561.5234" LocationY="159.0911" Type="SAHL.X2Designer.Items.ConditionalActivity" Id="68" Name="Personal Loan" X2ID="db0caa79-aa63-4302-a105-88f721547dfc" Message="" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" FromNode="Product Check" ToNode="Personal Loan Pend Proposal">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Personal_Loan(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;if (Debt_Counselling_Data.ProductKey == 12)&#x9;// Personal Loan&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;return true;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;else&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;return false;&#xD;&#xA;&#x9;}&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Personal_Loan(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="// You must select and business stage transition to provide code behind." />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Personal_Loan(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions />
        </Activity>
        <Activity LocationX="699.0729" LocationY="234.0911" Type="SAHL.X2Designer.Items.ConditionalActivity" Id="69" Name="Mortgage Loan" X2ID="befffefd-1526-4568-b538-8fbfeb045de2" Message="" StageTransitionMessage="" Description="" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" FromNode="Product Check" ToNode="Pend Proposal">
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Mortgage_Loan(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Mortgage_Loan(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="// You must select and business stage transition to provide code behind." />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Mortgage_Loan(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions />
        </Activity>
        <Activity LocationX="884.6016" LocationY="442.0911" Type="SAHL.X2Designer.Items.UserActivity" Id="70" Name="Court Application Withdrawn" X2ID="5238bfa9-d8da-4e0a-9572-48c1d4a3f44c" Message="Court Application Withdrawn" StageTransitionMessage="" Description="" Priority="1" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="WorkflowYesNo" LinkedActivity="" UseLinkedActivity="False" FromNode="Common Court Application Withdrawn" ToNode="Manage Proposal">
          <Access>
            <AccessCollection AccessCollectionItem="WorkList" />
            <AccessCollection AccessCollectionItem="Debt Counselling Supervisor" />
            <AccessCollection AccessCollectionItem="Debt Counselling Court Consultant D" />
          </Access>
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Court_Application_Withdrawn(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA; return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Court_Application_Withdrawn(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string Message)&#xD;&#xA;{&#xD;&#xA;&#x9;IDebtCounselling debtcounsellingClient = DomainServiceLoader.Instance.Get&lt;IDebtCounselling&gt;();&#xD;&#xA;&#x9;bool success = debtcounsellingClient.UpdateHearingDetailStatusToInactive((IDomainMessageCollection)messages, Debt_Counselling_Data.DebtCounsellingKey);&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;if(success)&#xD;&#xA;&#x9;{&#xD;&#xA;&#x9;&#x9;Debt_Counselling_Data.CourtCase = false;&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;List&lt;string&gt; statesToExclude = new List&lt;string&gt;();&#xD;&#xA;&#x9;&#x9;statesToExclude.Add(&quot;Debt Review Approved&quot;);&#xD;&#xA;&#x9;&#x9;statesToExclude.Add(&quot;Bond Exclusions&quot;);&#xD;&#xA;&#x9;&#x9;statesToExclude.Add(&quot;Bond Exclusions Arrears&quot;);&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;&#x9;success = workflowAssignmentClient.AssignDebtCounsellingCaseForGroupOrLoadBalance((IDomainMessageCollection)messages, &#xD;&#xA;&#x9;&#x9;&#x9;instance.ID, &#xD;&#xA;&#x9;&#x9;&#x9;Debt_Counselling_Data.DebtCounsellingKey, &#xD;&#xA;&#x9;&#x9;&#x9;SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, &#xD;&#xA;&#x9;&#x9;&#x9;&quot;Court Application Withdrawn&quot;, &#xD;&#xA;&#x9;&#x9;&#x9;statesToExclude, &#xD;&#xA;&#x9;&#x9;&#x9;false,&#xD;&#xA;&#x9;&#x9;&#x9;Debt_Counselling_Data.CourtCase);&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;return success;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="public string GetStageTransition_Court_Application_Withdrawn(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Court_Application_Withdrawn(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions>
            <BusinessStageTransition StageDefinitionKey="4621" DefinitionGroupDescription="Debt Counselling Workflow" DefinitionDescription="Court Application Withdrawn" />
          </BusinessStageTransitions>
        </Activity>
        <Activity LocationX="46.27604" LocationY="166.0911" Type="SAHL.X2Designer.Items.UserActivity" Id="67" Name="Clear Cache" X2ID="2dc051ba-8e07-47f0-8305-18c48c0070b4" Message="" StageTransitionMessage="" Description="" Priority="2" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="" LinkedActivity="" UseLinkedActivity="False" FromNode="ClapperBoard" ToNode="Cache Archive">
          <Access />
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_Clear_Cache(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_Clear_Cache(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string alertMessage)&#xD;&#xA;{&#xD;&#xA;&#x9;ICommon client = DomainServiceLoader.Instance.Get&lt;ICommon&gt;();&#xD;&#xA; &#x9;client.ClearCache((IDomainMessageCollection)messages, param.Data);&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="// You must select and business stage transition to provide code behind." />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_Clear_Cache(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions />
        </Activity>
        <Activity LocationX="122.6927" LocationY="113.5" Type="SAHL.X2Designer.Items.UserActivity" Id="67" Name="ClearRuleCache" X2ID="bb9a232d-ef95-41c4-aed6-da2b12eb846f" Message="" StageTransitionMessage="" Description="" Priority="3" RaiseExternalActivity="" SplitWorkFlow="False" CustomForm="" LinkedActivity="" UseLinkedActivity="False" FromNode="ClapperBoard" ToNode="Cache Archive">
          <Access />
          <CodeSections>
            <CodeSection Name="OnStart" Code="public bool OnStartActivity_ClearRuleCache(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnComplete" Code="public bool OnCompleteActivity_ClearRuleCache(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages, ref string alertMessage)&#xD;&#xA;{&#xD;&#xA;&#x9;&#x9;&#x9;ICommon client = DomainServiceLoader.Instance.Get&lt;ICommon&gt;();&#xD;&#xA; &#x9;client.ClearRuleCache((IDomainMessageCollection)messages);&#xD;&#xA;&#x9;return true;&#xD;&#xA;}&#xD;&#xA;" />
            <CodeSection Name="OnStageActivity" Code="// You must select and business stage transition to provide code behind." />
            <CodeSection Name="GetActivityMessage" Code="public string GetActivityMessage_ClearRuleCache(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;return string.Empty;&#xD;&#xA;}&#xD;&#xA;" />
          </CodeSections>
          <BusinessStageTransitions />
        </Activity>
      </Activities>
      <Comments />
    </WorkFlow>
  </WorkFlows>
  <Roles>
    <Role Role="Debt Counselling Admin D" Description="Debt Counselling Admin D" IsDynamic="True" RoleType="WorkFlow" WorkFlow="Debt Counselling">
      <CodeSections>
        <CodeSection Name="OnGetRole" Code="public string OnGetRole_Debt_Counselling_Debt_Counselling_Admin_D(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, string RoleName, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.ResolveWorkflowRoleAssignment((IDomainMessageCollection)messages, instance.ID, SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingAdminD, SAHL.Common.Globals.WorkflowRoleTypeGroups.DebtCounselling);&#xD;&#xA;}&#xD;&#xA;" />
      </CodeSections>
    </Role>
    <Role Role="Debt Counselling Admin" Description="Debt Counselling Admin" IsDynamic="False" RoleType="Global" />
    <Role Role="Debt Counselling Consultant D" Description="Debt Counselling Consultant D" IsDynamic="True" RoleType="WorkFlow" WorkFlow="Debt Counselling">
      <CodeSections>
        <CodeSection Name="OnGetRole" Code="public string OnGetRole_Debt_Counselling_Debt_Counselling_Consultant_D(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, string RoleName, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.ResolveWorkflowRoleAssignment((IDomainMessageCollection)messages, instance.ID, SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingConsultantD, SAHL.Common.Globals.WorkflowRoleTypeGroups.DebtCounselling);&#xD;&#xA;}&#xD;&#xA;" />
      </CodeSections>
    </Role>
    <Role Role="Debt Counselling Consultant" Description="Debt Counselling Consultant" IsDynamic="False" RoleType="Global" />
    <Role Role="Debt Counselling Supervisor D" Description="Debt Counselling Supervisor D" IsDynamic="True" RoleType="WorkFlow" WorkFlow="Debt Counselling">
      <CodeSections>
        <CodeSection Name="OnGetRole" Code="public string OnGetRole_Debt_Counselling_Debt_Counselling_Supervisor_D(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, string RoleName, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.ResolveWorkflowRoleAssignment((IDomainMessageCollection)messages, instance.ID, SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingSupervisorD, SAHL.Common.Globals.WorkflowRoleTypeGroups.DebtCounselling);&#xD;&#xA;}&#xD;&#xA;" />
      </CodeSections>
    </Role>
    <Role Role="Debt Counselling Supervisor" Description="Debt Counselling Supervisor" IsDynamic="False" RoleType="Global" />
    <Role Role="Recoveries Manager D" Description="Recoveries Manager D" IsDynamic="True" RoleType="WorkFlow" WorkFlow="Debt Counselling">
      <CodeSections>
        <CodeSection Name="OnGetRole" Code="public string OnGetRole_Debt_Counselling_Recoveries_Manager_D(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, string RoleName, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.ResolveWorkflowRoleAssignment((IDomainMessageCollection)messages, instance.ID, SAHL.Common.Globals.WorkflowRoleTypes.RecoveriesManagerD, SAHL.Common.Globals.WorkflowRoleTypeGroups.DebtCounselling);&#xD;&#xA;}&#xD;&#xA;" />
      </CodeSections>
    </Role>
    <Role Role="Recoveries Manager" Description="Recoveries Manager" IsDynamic="False" RoleType="Global" />
    <Role Role="Debt Counselling Court Consultant D" Description="Debt Counselling Court Consultant D" IsDynamic="True" RoleType="WorkFlow" WorkFlow="Debt Counselling">
      <CodeSections>
        <CodeSection Name="OnGetRole" Code="public string OnGetRole_Debt_Counselling_Debt_Counselling_Court_Consultant_D(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, string RoleName, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.ResolveWorkflowRoleAssignment((IDomainMessageCollection)messages, instance.ID, SAHL.Common.Globals.WorkflowRoleTypes.DebtCounsellingCourtConsultantD, SAHL.Common.Globals.WorkflowRoleTypeGroups.DebtCounselling);&#xD;&#xA;}&#xD;&#xA;" />
      </CodeSections>
    </Role>
    <Role Role="Debt Counselling Court Consultant" Description="Debt Counselling Court Consultant" IsDynamic="False" RoleType="Global" />
    <Role Role="Foreclosure Consultant D" Description="Foreclosure Consultant D" IsDynamic="True" RoleType="WorkFlow" WorkFlow="Debt Counselling">
      <CodeSections>
        <CodeSection Name="OnGetRole" Code="public string OnGetRole_Debt_Counselling_Foreclosure_Consultant_D(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, string RoleName, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.ResolveWorkflowRoleAssignment((IDomainMessageCollection)messages, instance.ID, SAHL.Common.Globals.WorkflowRoleTypes.ForeclosureConsultantD, SAHL.Common.Globals.WorkflowRoleTypeGroups.DebtCounselling);&#xD;&#xA;}&#xD;&#xA;" />
      </CodeSections>
    </Role>
    <Role Role="Foreclosure Consultant" Description="Foreclosure Consultant" IsDynamic="False" RoleType="Global" />
    <Role Role="Loss Control Director" Description="Loss Control Director" IsDynamic="False" RoleType="Global" />
    <Role Role="Loss Control Director D" Description="Loss Control Director D" IsDynamic="True" RoleType="WorkFlow" WorkFlow="Debt Counselling">
      <CodeSections>
        <CodeSection Name="OnGetRole" Code="public string OnGetRole_Debt_Counselling_Loss_Control_Director_D(InstanceDataModel instance, IX2Debt_Counselling_Data Debt_Counselling_Data, string RoleName, SAHL.Core.X2.IX2Params param, ISystemMessageCollection messages)&#xD;&#xA;{&#xD;&#xA;&#x9;IWorkflowAssignment workflowAssignmentClient = DomainServiceLoader.Instance.Get&lt;IWorkflowAssignment&gt;();&#xD;&#xA;&#x9;return workflowAssignmentClient.ResolveWorkflowRoleAssignment((IDomainMessageCollection)messages, instance.ID, SAHL.Common.Globals.WorkflowRoleTypes.LossControlDirectorD, SAHL.Common.Globals.WorkflowRoleTypeGroups.DebtCounselling);&#xD;&#xA;}&#xD;&#xA;" />
      </CodeSections>
    </Role>
  </Roles>
  <UsingStatements>
    <UsingStatement Statement="System" />
    <UsingStatement Statement="System.Data" />
    <UsingStatement Statement="System.Xml" />
    <UsingStatement Statement="System.Linq" />
    <UsingStatement Statement="SAHL.Core" />
    <UsingStatement Statement="SAHL.Core.Data" />
    <UsingStatement Statement="SAHL.Core.Data.Context.Configuration" />
    <UsingStatement Statement="SAHL.Core.Data.Models.X2" />
    <UsingStatement Statement="SAHL.Core.Logging" />
    <UsingStatement Statement="SAHL.Core.SystemMessages" />
    <UsingStatement Statement="SAHL.Core.X2" />
    <UsingStatement Statement="SAHL.Core.X2.Providers" />
    <UsingStatement Statement="Newtonsoft.Json" />
    <UsingStatement Statement="SAHL.Core.Attributes" />
    <UsingStatement Statement="DomainService2.IOC" />
    <UsingStatement Statement="X2DomainService.Interface.Common" />
    <UsingStatement Statement="X2DomainService.Interface.DebtCounselling" />
    <UsingStatement Statement="X2DomainService.Interface.WorkflowAssignment" />
    <UsingStatement Statement="SAHL.Common.Collections.Interfaces" />
    <UsingStatement Statement="SAHL.Common.Exceptions" />
    <UsingStatement Statement="SAHL.X2.Framework" />
  </UsingStatements>
  <NugetPackages>
    <NugetPackage PackageName="SAHL.Config.Legacy.X2.Maps" Version="0.0.0.0" DependsOn="Nothing" DependsOnVersion="Nothing" />
    <NugetPackage PackageName="SAHL.DomainService.Binaries" Version="0.0.0.0" DependsOn="Nothing" DependsOnVersion="Nothing" />
  </NugetPackages>
  <References>
    <Reference FullName="ActiproSoftware.Shared.Net20, Version=1.0.104.0, Culture=neutral, PublicKeyToken=36ff2196ab5654b9" Path="SAHL.External.Binaries.0.0.0.0\lib\ActiproSoftware.Shared.Net20.dll" Name="ActiproSoftware.Shared.Net20.dll" Version="1.0.104.0" />
    <Reference FullName="ActiproSoftware.SyntaxEditor.Addons.DotNet.Net20, Version=4.0.289.0, Culture=neutral, PublicKeyToken=21a821480e210563" Path="SAHL.External.Binaries.0.0.0.0\lib\ActiproSoftware.SyntaxEditor.Addons.DotNet.Net20.dll" Name="ActiproSoftware.SyntaxEditor.Addons.DotNet.Net20.dll" Version="4.0.289.0" />
    <Reference FullName="ActiproSoftware.SyntaxEditor.Addons.Web.Net20, Version=4.0.289.0, Culture=neutral, PublicKeyToken=21a821480e210563" Path="SAHL.External.Binaries.0.0.0.0\lib\ActiproSoftware.SyntaxEditor.Addons.Web.Net20.dll" Name="ActiproSoftware.SyntaxEditor.Addons.Web.Net20.dll" Version="4.0.289.0" />
    <Reference FullName="ActiproSoftware.SyntaxEditor.Net20, Version=4.0.289.0, Culture=neutral, PublicKeyToken=21a821480e210563" Path="SAHL.External.Binaries.0.0.0.0\lib\ActiproSoftware.SyntaxEditor.Net20.dll" Name="ActiproSoftware.SyntaxEditor.Net20.dll" Version="4.0.289.0" />
    <Reference FullName="ActiproSoftware.WinUICore.Net20, Version=1.0.104.0, Culture=neutral, PublicKeyToken=1eba893a2bc55de5" Path="SAHL.External.Binaries.0.0.0.0\lib\ActiproSoftware.WinUICore.Net20.dll" Name="ActiproSoftware.WinUICore.Net20.dll" Version="1.0.104.0" />
    <Reference FullName="AdcheckObjectLibrary, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\AdcheckObjectLibrary.dll" Name="AdcheckObjectLibrary.dll" Version="1.0.0.0" />
    <Reference FullName="AjaxControlToolkit, Version=3.5.40412.0, Culture=neutral, PublicKeyToken=28f01b0e84b6d53e" Path="SAHL.External.Binaries.0.0.0.0\lib\AjaxControlToolkit.dll" Name="AjaxControlToolkit.dll" Version="3.5.40412.0" />
    <Reference FullName="Antlr3.Runtime, Version=3.1.3.42154, Culture=neutral, PublicKeyToken=3a9cab8f8d22bfb7" Path="SAHL.External.Binaries.0.0.0.0\lib\Antlr3.Runtime.dll" Name="Antlr3.Runtime.dll" Version="3.1.3.42154" />
    <Reference FullName="BdsSoft.DirectoryServices.Linq, Version=1.0.0.0, Culture=neutral, PublicKeyToken=c382851731f5762e" Path="SAHL.External.Binaries.0.0.0.0\lib\BdsSoft.DirectoryServices.Linq.dll" Name="BdsSoft.DirectoryServices.Linq.dll" Version="1.0.0.0" />
    <Reference FullName="Castle.ActiveRecord, Version=3.0.0.0, Culture=neutral, PublicKeyToken=407dd0808d44fbdc" Path="SAHL.External.Binaries.0.0.0.0\lib\Castle.ActiveRecord.dll" Name="Castle.ActiveRecord.dll" Version="3.0.0.0" />
    <Reference FullName="Castle.ActiveRecord.Linq, Version=1.9.101.0, Culture=neutral, PublicKeyToken=407dd0808d44fbdc" Path="SAHL.External.Binaries.0.0.0.0\lib\Castle.ActiveRecord.Linq.dll" Name="Castle.ActiveRecord.Linq.dll" Version="1.9.101.0" />
    <Reference FullName="Castle.ActiveRecord.Web, Version=0.0.0.0, Culture=neutral, PublicKeyToken=407dd0808d44fbdc" Path="SAHL.External.Binaries.0.0.0.0\lib\Castle.ActiveRecord.Web.dll" Name="Castle.ActiveRecord.Web.dll" Version="0.0.0.0" />
    <Reference FullName="Castle.Components.Validator, Version=2.5.0.0, Culture=neutral, PublicKeyToken=407dd0808d44fbdc" Path="SAHL.External.Binaries.0.0.0.0\lib\Castle.Components.Validator.dll" Name="Castle.Components.Validator.dll" Version="2.5.0.0" />
    <Reference FullName="Castle.Core, Version=2.5.1.0, Culture=neutral, PublicKeyToken=407dd0808d44fbdc" Path="SAHL.External.Binaries.0.0.0.0\lib\Castle.Core.dll" Name="Castle.Core.dll" Version="2.5.1.0" />
    <Reference FullName="CommandLine, Version=1.8.0.7, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\CommandLine.dll" Name="CommandLine.dll" Version="1.8.0.7" />
    <Reference FullName="Dapper, Version=1.12.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\Dapper.dll" Name="Dapper.dll" Version="1.12.0.0" />
    <Reference FullName="DevExpress.Charts.v10.2.Core, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.Charts.v10.2.Core.dll" Name="DevExpress.Charts.v10.2.Core.dll" Version="10.2.8.0" />
    <Reference FullName="DevExpress.Data.v10.2, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.Data.v10.2.dll" Name="DevExpress.Data.v10.2.dll" Version="10.2.8.0" />
    <Reference FullName="DevExpress.PivotGrid.v10.2.Core, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.PivotGrid.v10.2.Core.dll" Name="DevExpress.PivotGrid.v10.2.Core.dll" Version="10.2.8.0" />
    <Reference FullName="DevExpress.SpellChecker.v10.2.Core, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.SpellChecker.v10.2.Core.dll" Name="DevExpress.SpellChecker.v10.2.Core.dll" Version="10.2.8.0" />
    <Reference FullName="DevExpress.Utils.v10.2, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.Utils.v10.2.dll" Name="DevExpress.Utils.v10.2.dll" Version="10.2.8.0" />
    <Reference FullName="DevExpress.Web.ASPxEditors.v10.2, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.Web.ASPxEditors.v10.2.dll" Name="DevExpress.Web.ASPxEditors.v10.2.dll" Version="10.2.8.0" />
    <Reference FullName="DevExpress.Web.ASPxGridView.v10.2, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.Web.ASPxGridView.v10.2.dll" Name="DevExpress.Web.ASPxGridView.v10.2.dll" Version="10.2.8.0" />
    <Reference FullName="DevExpress.Web.ASPxHtmlEditor.v10.2, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.Web.ASPxHtmlEditor.v10.2.dll" Name="DevExpress.Web.ASPxHtmlEditor.v10.2.dll" Version="10.2.8.0" />
    <Reference FullName="DevExpress.Web.ASPxPivotGrid.v10.2, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.Web.ASPxPivotGrid.v10.2.dll" Name="DevExpress.Web.ASPxPivotGrid.v10.2.dll" Version="10.2.8.0" />
    <Reference FullName="DevExpress.Web.ASPxSpellChecker.v10.2, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.Web.ASPxSpellChecker.v10.2.dll" Name="DevExpress.Web.ASPxSpellChecker.v10.2.dll" Version="10.2.8.0" />
    <Reference FullName="DevExpress.Web.ASPxThemes.v10.2, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.Web.ASPxThemes.v10.2.dll" Name="DevExpress.Web.ASPxThemes.v10.2.dll" Version="10.2.8.0" />
    <Reference FullName="DevExpress.Web.ASPxTreeList.v10.2, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.Web.ASPxTreeList.v10.2.dll" Name="DevExpress.Web.ASPxTreeList.v10.2.dll" Version="10.2.8.0" />
    <Reference FullName="DevExpress.Web.Mvc.v10.2, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.Web.Mvc.v10.2.dll" Name="DevExpress.Web.Mvc.v10.2.dll" Version="10.2.8.0" />
    <Reference FullName="DevExpress.Web.v10.2, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.Web.v10.2.dll" Name="DevExpress.Web.v10.2.dll" Version="10.2.8.0" />
    <Reference FullName="DevExpress.XtraCharts.v10.2, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.XtraCharts.v10.2.dll" Name="DevExpress.XtraCharts.v10.2.dll" Version="10.2.8.0" />
    <Reference FullName="DevExpress.XtraCharts.v10.2.UI, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.XtraCharts.v10.2.UI.dll" Name="DevExpress.XtraCharts.v10.2.UI.dll" Version="10.2.8.0" />
    <Reference FullName="DevExpress.XtraCharts.v10.2.Web, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.XtraCharts.v10.2.Web.dll" Name="DevExpress.XtraCharts.v10.2.Web.dll" Version="10.2.8.0" />
    <Reference FullName="DevExpress.XtraEditors.v10.2, Version=10.2.8.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Path="SAHL.External.Binaries.0.0.0.0\lib\DevExpress.XtraEditors.v10.2.dll" Name="DevExpress.XtraEditors.v10.2.dll" Version="10.2.8.0" />
    <Reference FullName="DomainService2, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.DomainService.Binaries.0.0.0.0\lib\DomainService2.dll" Name="DomainService2.dll" Version="0.0.0.0" />
    <Reference FullName="DomainService2.IOC, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.DomainService.Binaries.0.0.0.0\lib\DomainService2.IOC.dll" Name="DomainService2.IOC.dll" Version="0.0.0.0" />
    <Reference FullName="DomainService2.V3.Client, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.DomainService.Binaries.0.0.0.0\lib\DomainService2.V3.Client.dll" Name="DomainService2.V3.Client.dll" Version="0.0.0.0" />
    <Reference FullName="EasyNetQ, Version=0.50.1.392, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\EasyNetQ.dll" Name="EasyNetQ.dll" Version="0.50.1.392" />
    <Reference FullName="EWorkConnector, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.DomainService.Binaries.0.0.0.0\lib\EWorkConnector.dll" Name="EWorkConnector.dll" Version="0.0.0.0" />
    <Reference FullName="ICSharpCode.SharpZipLib, Version=0.85.2.329, Culture=neutral, PublicKeyToken=1b03e6acf1164f73" Path="SAHL.External.Binaries.0.0.0.0\lib\ICSharpCode.SharpZipLib.dll" Name="ICSharpCode.SharpZipLib.dll" Version="0.85.2.329" />
    <Reference FullName="Iesi.Collections, Version=1.0.1.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4" Path="SAHL.External.Binaries.0.0.0.0\lib\Iesi.Collections.dll" Name="Iesi.Collections.dll" Version="1.0.1.0" />
    <Reference FullName="Interop.ActiveDs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Interop.ActiveDs.dll" Name="Interop.ActiveDs.dll" Version="1.0.0.0" />
    <Reference FullName="itextsharp, Version=5.3.3.0, Culture=neutral, PublicKeyToken=8354ae6d2174ddca" Path="SAHL.External.Binaries.0.0.0.0\lib\itextsharp.dll" Name="itextsharp.dll" Version="5.3.3.0" />
    <Reference FullName="Lucene.Net, Version=2.9.2.2, Culture=neutral, PublicKeyToken=f5940d1699e37ff1" Path="SAHL.External.Binaries.0.0.0.0\lib\Lucene.Net.dll" Name="Lucene.Net.dll" Version="2.9.2.2" />
    <Reference FullName="Machine.Fakes, Version=0.3.5.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Machine.Fakes.dll" Name="Machine.Fakes.dll" Version="0.3.5.0" />
    <Reference FullName="Machine.Fakes.Adapters.Rhinomocks, Version=0.3.5.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Machine.Fakes.Adapters.RhinoMocks.dll" Name="Machine.Fakes.Adapters.Rhinomocks.dll" Version="0.3.5.0" />
    <Reference FullName="Machine.Specifications, Version=0.5.6.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Machine.Specifications.dll" Name="Machine.Specifications.dll" Version="0.5.6.0" />
    <Reference FullName="Machine.Specifications.Clr4, Version=0.5.6.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Machine.Specifications.Clr4.dll" Name="Machine.Specifications.Clr4.dll" Version="0.5.6.0" />
    <Reference FullName="Machine.Specifications.TDNetRunner, Version=0.5.6.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Machine.Specifications.TDNetRunner.dll" Name="Machine.Specifications.TDNetRunner.dll" Version="0.5.6.0" />
    <Reference FullName="Microsoft.ApplicationBlocks.Data, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.ApplicationBlocks.Data.dll" Name="Microsoft.ApplicationBlocks.Data.dll" Version="2.0.0.0" />
    <Reference FullName="Microsoft.ApplicationBlocks.UIProcess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.ApplicationBlocks.UIProcess.dll" Name="Microsoft.ApplicationBlocks.UIProcess.dll" Version="1.0.0.0" />
    <Reference FullName="Microsoft.Practices.EnterpriseLibrary.Caching, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.Practices.EnterpriseLibrary.Caching.dll" Name="Microsoft.Practices.EnterpriseLibrary.Caching.dll" Version="2.0.0.0" />
    <Reference FullName="Microsoft.Practices.EnterpriseLibrary.Caching.Configuration.Design, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.Practices.EnterpriseLibrary.Caching.Configuration.Design.dll" Name="Microsoft.Practices.EnterpriseLibrary.Caching.Configuration.Design.dll" Version="2.0.0.0" />
    <Reference FullName="Microsoft.Practices.EnterpriseLibrary.Caching.Database, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.Practices.EnterpriseLibrary.Caching.Database.dll" Name="Microsoft.Practices.EnterpriseLibrary.Caching.Database.dll" Version="2.0.0.0" />
    <Reference FullName="Microsoft.Practices.EnterpriseLibrary.Caching.Database.Configuration.Design, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.Practices.EnterpriseLibrary.Caching.Database.Configuration.Design.dll" Name="Microsoft.Practices.EnterpriseLibrary.Caching.Database.Configuration.Design.dll" Version="2.0.0.0" />
    <Reference FullName="Microsoft.Practices.EnterpriseLibrary.Common, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.Practices.EnterpriseLibrary.Common.dll" Name="Microsoft.Practices.EnterpriseLibrary.Common.dll" Version="2.0.0.0" />
    <Reference FullName="Microsoft.Practices.EnterpriseLibrary.Configuration.Design, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.Practices.EnterpriseLibrary.Configuration.Design.dll" Name="Microsoft.Practices.EnterpriseLibrary.Configuration.Design.dll" Version="2.0.0.0" />
    <Reference FullName="Microsoft.Practices.EnterpriseLibrary.Data, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.Practices.EnterpriseLibrary.Data.dll" Name="Microsoft.Practices.EnterpriseLibrary.Data.dll" Version="2.0.0.0" />
    <Reference FullName="Microsoft.Practices.EnterpriseLibrary.Data.Configuration.Design, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.Practices.EnterpriseLibrary.Data.Configuration.Design.dll" Name="Microsoft.Practices.EnterpriseLibrary.Data.Configuration.Design.dll" Version="2.0.0.0" />
    <Reference FullName="Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.dll" Name="Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.dll" Version="2.0.0.0" />
    <Reference FullName="Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.dll" Name="Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.dll" Version="2.0.0.0" />
    <Reference FullName="Microsoft.Practices.EnterpriseLibrary.Logging, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.Practices.EnterpriseLibrary.Logging.dll" Name="Microsoft.Practices.EnterpriseLibrary.Logging.dll" Version="2.0.0.0" />
    <Reference FullName="Microsoft.Practices.ObjectBuilder, Version=1.0.51205.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.Practices.ObjectBuilder.dll" Name="Microsoft.Practices.ObjectBuilder.dll" Version="1.0.51205.0" />
    <Reference FullName="Microsoft.ReportViewer.Common, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.ReportViewer.Common.dll" Name="Microsoft.ReportViewer.Common.dll" Version="11.0.0.0" />
    <Reference FullName="Microsoft.ReportViewer.DataVisualization, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.ReportViewer.DataVisualization.DLL" Name="Microsoft.ReportViewer.DataVisualization.dll" Version="11.0.0.0" />
    <Reference FullName="Microsoft.ReportViewer.Design, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.ReportViewer.Design.DLL" Name="Microsoft.ReportViewer.Design.dll" Version="11.0.0.0" />
    <Reference FullName="Microsoft.ReportViewer.ProcessingObjectModel, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.ReportViewer.ProcessingObjectModel.dll" Name="Microsoft.ReportViewer.ProcessingObjectModel.dll" Version="11.0.0.0" />
    <Reference FullName="Microsoft.ReportViewer.WebDesign, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.ReportViewer.WebDesign.DLL" Name="Microsoft.ReportViewer.WebDesign.dll" Version="11.0.0.0" />
    <Reference FullName="Microsoft.ReportViewer.WebForms, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.ReportViewer.WebForms.dll" Name="Microsoft.ReportViewer.WebForms.dll" Version="11.0.0.0" />
    <Reference FullName="Microsoft.ReportViewer.WinForms, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.ReportViewer.WinForms.dll" Name="Microsoft.ReportViewer.WinForms.dll" Version="11.0.0.0" />
    <Reference FullName="Microsoft.SqlServer.ConnectionInfo, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.SqlServer.ConnectionInfo.dll" Name="Microsoft.SqlServer.ConnectionInfo.dll" Version="11.0.0.0" />
    <Reference FullName="Microsoft.SqlServer.DtsMsg, Version=9.0.242.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.SqlServer.DtsMsg.dll" Name="Microsoft.SqlServer.DtsMsg.dll" Version="9.0.242.0" />
    <Reference FullName="Microsoft.SqlServer.DTSPipelineWrap, Version=9.0.242.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.SqlServer.DTSPipelineWrap.dll" Name="Microsoft.SqlServer.DTSPipelineWrap.dll" Version="9.0.242.0" />
    <Reference FullName="Microsoft.SqlServer.DTSRuntimeWrap, Version=9.0.242.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.SQLServer.DTSRuntimeWrap.dll" Name="Microsoft.SqlServer.DTSRuntimeWrap.dll" Version="9.0.242.0" />
    <Reference FullName="Microsoft.SqlServer.ManagedDTS, Version=9.0.242.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.SQLServer.ManagedDTS.dll" Name="Microsoft.SqlServer.ManagedDTS.dll" Version="9.0.242.0" />
    <Reference FullName="Microsoft.SqlServer.Management.Sdk.Sfc, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.SqlServer.Management.Sdk.Sfc.dll" Name="Microsoft.SqlServer.Management.Sdk.Sfc.dll" Version="11.0.0.0" />
    <Reference FullName="Microsoft.SqlServer.msxml6_interop, Version=6.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.SQLServer.msxml6_interop.dll" Name="Microsoft.SqlServer.msxml6_interop.dll" Version="6.0.0.0" />
    <Reference FullName="Microsoft.SqlServer.PipelineHost, Version=9.0.242.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.SqlServer.PipelineHost.dll" Name="Microsoft.SqlServer.PipelineHost.dll" Version="9.0.242.0" />
    <Reference FullName="Microsoft.SqlServer.Smo, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.SqlServer.Smo.dll" Name="Microsoft.SqlServer.Smo.dll" Version="11.0.0.0" />
    <Reference FullName="Microsoft.SqlServer.SqlClrProvider, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.SqlServer.SqlClrProvider.dll" Name="Microsoft.SqlServer.SqlClrProvider.dll" Version="11.0.0.0" />
    <Reference FullName="Microsoft.SqlServer.SqlEnum, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" Path="SAHL.External.Binaries.0.0.0.0\lib\Microsoft.SqlServer.SqlEnum.dll" Name="Microsoft.SqlServer.SqlEnum.dll" Version="11.0.0.0" />
    <Reference FullName="NCover.Framework, Version=1.5.8.0, Culture=neutral, PublicKeyToken=f4018786f4b01bc6" Path="SAHL.External.Binaries.0.0.0.0\lib\NCover.Framework.dll" Name="NCover.Framework.dll" Version="1.5.8.0" />
    <Reference FullName="NDbUnit.Core, Version=1.1.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\NDbUnit.Core.dll" Name="NDbUnit.Core.dll" Version="1.1.0.0" />
    <Reference FullName="NDbUnit.Test, Version=1.1.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.External.Binaries.0.0.0.0\lib\NDbUnit.Test.dll" Name="NDbUnit.Test.dll" Version="1.1.0.0" />
    <Reference FullName="Newtonsoft.Json, Version=6.0.0.0, Culture=neutral, PublicKeyToken=30ad4fe6b2a6aeed" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\Newtonsoft.Json.dll" Name="Newtonsoft.Json.dll" Version="6.0.0.0" />
    <Reference FullName="NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4" Path="SAHL.External.Binaries.0.0.0.0\lib\NHibernate.dll" Name="NHibernate.dll" Version="3.1.0.4000" />
    <Reference FullName="NHibernate.ByteCode.Castle, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4" Path="SAHL.External.Binaries.0.0.0.0\lib\NHibernate.ByteCode.Castle.dll" Name="NHibernate.ByteCode.Castle.dll" Version="3.1.0.4000" />
    <Reference FullName="NHibernate.Search, Version=0.0.0.0, Culture=neutral, PublicKeyToken=407dd0808d44fbdc" Path="SAHL.External.Binaries.0.0.0.0\lib\NHibernate.Search.dll" Name="NHibernate.Search.dll" Version="0.0.0.0" />
    <Reference FullName="Ninject, Version=3.0.0.0, Culture=neutral, PublicKeyToken=c7192dc5380945e7" Path="SAHL.External.Binaries.0.0.0.0\lib\Ninject.dll" Name="Ninject.dll" Version="3.0.0.0" />
    <Reference FullName="Northwoods.Go, Version=4.1.0.4, Culture=neutral, PublicKeyToken=a4e3b7b70161cfe8" Path="SAHL.External.Binaries.0.0.0.0\lib\Northwoods.Go.dll" Name="Northwoods.Go.dll" Version="4.1.0.4" />
    <Reference FullName="Northwoods.Go.Draw, Version=4.1.0.4, Culture=neutral, PublicKeyToken=a4e3b7b70161cfe8" Path="SAHL.External.Binaries.0.0.0.0\lib\Northwoods.Go.Draw.dll" Name="Northwoods.Go.Draw.dll" Version="4.1.0.4" />
    <Reference FullName="Northwoods.Go.Instruments, Version=4.1.0.4, Culture=neutral, PublicKeyToken=a4e3b7b70161cfe8" Path="SAHL.External.Binaries.0.0.0.0\lib\Northwoods.Go.Instruments.dll" Name="Northwoods.Go.Instruments.dll" Version="4.1.0.4" />
    <Reference FullName="Northwoods.Go.Layout, Version=4.1.0.4, Culture=neutral, PublicKeyToken=a4e3b7b70161cfe8" Path="SAHL.External.Binaries.0.0.0.0\lib\Northwoods.Go.Layout.dll" Name="Northwoods.Go.Layout.dll" Version="4.1.0.4" />
    <Reference FullName="Northwoods.Go.Svg, Version=4.1.0.4, Culture=neutral, PublicKeyToken=a4e3b7b70161cfe8" Path="SAHL.External.Binaries.0.0.0.0\lib\Northwoods.Go.Svg.dll" Name="Northwoods.Go.Svg.dll" Version="4.1.0.4" />
    <Reference FullName="Northwoods.Go.Xml, Version=4.1.0.4, Culture=neutral, PublicKeyToken=a4e3b7b70161cfe8" Path="SAHL.External.Binaries.0.0.0.0\lib\Northwoods.Go.Xml.dll" Name="Northwoods.Go.Xml.dll" Version="4.1.0.4" />
    <Reference FullName="nunit.framework, Version=2.6.0.12051, Culture=neutral, PublicKeyToken=96d09a1eb7f44a77" Path="SAHL.External.Binaries.0.0.0.0\lib\nunit.framework.dll" Name="nunit.framework.dll" Version="2.6.0.12051" />
    <Reference FullName="Omu.ValueInjecter, Version=2.3.3.0, Culture=neutral, PublicKeyToken=c7694541b0ac80e4" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\Omu.ValueInjecter.dll" Name="Omu.ValueInjecter.dll" Version="2.3.3.0" />
    <Reference FullName="PDFDocumentWriter, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\PDFDocumentWriter.dll" Name="PDFDocumentWriter.dll" Version="0.0.0.0" />
    <Reference FullName="PostSharp, Version=2.1.0.0, Culture=neutral, PublicKeyToken=b13fd38b8f9c99d7" Path="SAHL.External.Binaries.0.0.0.0\lib\PostSharp.dll" Name="PostSharp.dll" Version="2.1.0.0" />
    <Reference FullName="RabbitMQ.Client, Version=3.5.3.0, Culture=neutral, PublicKeyToken=89e7d7c5feba84ce" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\RabbitMQ.Client.dll" Name="RabbitMQ.Client.dll" Version="3.5.3.0" />
    <Reference FullName="Remotion.Data.Linq, Version=1.13.41.2, Culture=neutral, PublicKeyToken=cab60358ab4081ea" Path="SAHL.External.Binaries.0.0.0.0\lib\Remotion.Data.Linq.dll" Name="Remotion.Data.Linq.dll" Version="1.13.41.2" />
    <Reference FullName="Rhino.Mocks, Version=3.6.0.0, Culture=neutral, PublicKeyToken=0b3305902db7183f" Path="SAHL.External.Binaries.0.0.0.0\lib\Rhino.Mocks.dll" Name="Rhino.Mocks.dll" Version="3.6.0.0" />
    <Reference FullName="SAHL.Common, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Common.dll" Name="SAHL.Common.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Common.BusinessModel, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Common.BusinessModel.dll" Name="SAHL.Common.BusinessModel.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Common.BusinessModel.DAO, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Common.BusinessModel.DAO.dll" Name="SAHL.Common.BusinessModel.DAO.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Common.BusinessModel.Interfaces, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Common.BusinessModel.Interfaces.dll" Name="SAHL.Common.BusinessModel.Interfaces.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Common.Logging, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Common.Logging.dll" Name="SAHL.Common.Logging.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Common.Service, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Common.Service.dll" Name="SAHL.Common.Service.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Common.Service.Interfaces, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Common.Service.Interfaces.dll" Name="SAHL.Common.Service.Interfaces.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Common.UI, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Common.UI.dll" Name="SAHL.Common.UI.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Common.Web, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Common.Web.dll" Name="SAHL.Common.Web.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Common.Web.UI, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Common.Web.UI.dll" Name="SAHL.Common.Web.UI.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Common.WebServices, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Common.WebServices.dll" Name="SAHL.Common.WebServices.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Common.X2.BusinessModel, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Common.X2.BusinessModel.dll" Name="SAHL.Common.X2.BusinessModel.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Common.X2.BusinessModel.DAO, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Common.X2.BusinessModel.DAO.dll" Name="SAHL.Common.X2.BusinessModel.DAO.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Common.X2.BusinessModel.Interfaces, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Common.X2.BusinessModel.Interfaces.dll" Name="SAHL.Common.X2.BusinessModel.Interfaces.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Communication, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Communication.dll" Name="SAHL.Communication.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Config.Core, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Config.Core.dll" Name="SAHL.Config.Core.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Config.Legacy, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Config.Legacy.dll" Name="SAHL.Config.Legacy.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Core, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Core.dll" Name="SAHL.Core.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Core.BusinessModel, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Core.BusinessModel.dll" Name="SAHL.Core.BusinessModel.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Core.Data, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Core.Data.dll" Name="SAHL.Core.Data.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Core.Data.Dapper, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Core.Data.Dapper.dll" Name="SAHL.Core.Data.Dapper.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Core.Data.Models.2AM, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Core.Data.Models.2AM.dll" Name="SAHL.Core.Data.Models.2AM.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Core.Data.Models.Capitec, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Core.Data.Models.Capitec.dll" Name="SAHL.Core.Data.Models.Capitec.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Core.Data.Models.Cuttlefish, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Core.Data.Models.Cuttlefish.dll" Name="SAHL.Core.Data.Models.Cuttlefish.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Core.Data.Models.DecisionTree, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Core.Data.Models.DecisionTree.dll" Name="SAHL.Core.Data.Models.DecisionTree.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Core.Data.Models.X2, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Core.Data.Models.X2.dll" Name="SAHL.Core.Data.Models.X2.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Core.Events, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Core.Events.dll" Name="SAHL.Core.Events.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Core.Logging.Loggers.Database, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Core.Logging.Loggers.Database.dll" Name="SAHL.Core.Logging.Loggers.Database.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Core.Messaging, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Core.Messaging.dll" Name="SAHL.Core.Messaging.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Core.Messaging.EasyNetQ, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Core.Messaging.EasyNetQ.dll" Name="SAHL.Core.Messaging.EasyNetQ.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Core.Messaging.Shared, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Core.Messaging.Shared.dll" Name="SAHL.Core.Messaging.Shared.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Core.Metrics, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Core.Metrics.dll" Name="SAHL.Core.Metrics.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Core.X2, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Core.X2.dll" Name="SAHL.Core.X2.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Core.X2.Shared, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\SAHL.Core.X2.Shared.dll" Name="SAHL.Core.X2.Shared.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Services.Capitec.Models.Shared, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Services.Capitec.Models.Shared.dll" Name="SAHL.Services.Capitec.Models.Shared.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Shared, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Shared.dll" Name="SAHL.Shared.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.Test, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.Test.dll" Name="SAHL.Test.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.X2.Common, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.X2.Common.dll" Name="SAHL.X2.Common.dll" Version="0.0.0.0" />
    <Reference FullName="SAHL.X2.Framework, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.Internal.Binaries.0.0.0.0\lib\SAHL.X2.Framework.dll" Name="SAHL.X2.Framework.dll" Version="0.0.0.0" />
    <Reference FullName="StructureMap, Version=2.6.4.0, Culture=neutral, PublicKeyToken=e60ad81abae3c223" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\StructureMap.dll" Name="StructureMap.dll" Version="2.6.4.0" />
    <Reference FullName="System.Threading.Tasks.Dataflow, Version=4.5.11.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" Path="SAHL.Config.Legacy.X2.Maps.0.0.0.0\lib\net45\System.Threading.Tasks.Dataflow.dll" Name="System.Threading.Tasks.Dataflow.dll" Version="4.5.11.0" />
    <Reference FullName="X2DomainService.Interface.Cap2, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.DomainService.Binaries.0.0.0.0\lib\X2DomainService.Interface.Cap2.dll" Name="X2DomainService.Interface.Cap2.dll" Version="0.0.0.0" />
    <Reference FullName="X2DomainService.Interface.Common, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.DomainService.Binaries.0.0.0.0\lib\X2DomainService.Interface.Common.dll" Name="X2DomainService.Interface.Common.dll" Version="0.0.0.0" />
    <Reference FullName="X2DomainService.Interface.DebtCounselling, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.DomainService.Binaries.0.0.0.0\lib\X2DomainService.Interface.DebtCounselling.dll" Name="X2DomainService.Interface.DebtCounselling.dll" Version="0.0.0.0" />
    <Reference FullName="X2DomainService.Interface.HelpDesk, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.DomainService.Binaries.0.0.0.0\lib\X2DomainService.Interface.HelpDesk.dll" Name="X2DomainService.Interface.HelpDesk.dll" Version="0.0.0.0" />
    <Reference FullName="X2DomainService.Interface.Life, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.DomainService.Binaries.0.0.0.0\lib\X2DomainService.Interface.Life.dll" Name="X2DomainService.Interface.Life.dll" Version="0.0.0.0" />
    <Reference FullName="X2DomainService.Interface.LoanAdjustments, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.DomainService.Binaries.0.0.0.0\lib\X2DomainService.Interface.LoanAdjustments.dll" Name="X2DomainService.Interface.LoanAdjustments.dll" Version="0.0.0.0" />
    <Reference FullName="X2DomainService.Interface.Origination, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.DomainService.Binaries.0.0.0.0\lib\X2DomainService.Interface.Origination.dll" Name="X2DomainService.Interface.Origination.dll" Version="0.0.0.0" />
    <Reference FullName="X2DomainService.Interface.PersonalLoan, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.DomainService.Binaries.0.0.0.0\lib\X2DomainService.Interface.PersonalLoan.dll" Name="X2DomainService.Interface.PersonalLoan.dll" Version="0.0.0.0" />
    <Reference FullName="X2DomainService.Interface.ScenarioMaps, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.DomainService.Binaries.0.0.0.0\lib\X2DomainService.Interface.ScenarioMaps.dll" Name="X2DomainService.Interface.ScenarioMaps.dll" Version="0.0.0.0" />
    <Reference FullName="X2DomainService.Interface.WorkflowAssignment, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null" Path="SAHL.DomainService.Binaries.0.0.0.0\lib\X2DomainService.Interface.WorkflowAssignment.dll" Name="X2DomainService.Interface.WorkflowAssignment.dll" Version="0.0.0.0" />
  </References>
</ProcessName>