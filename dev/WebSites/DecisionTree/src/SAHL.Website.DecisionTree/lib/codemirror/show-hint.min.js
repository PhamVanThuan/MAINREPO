(function(){"use strict";function i(n,t,i){this.cm=n;this.getHints=t;this.options=i;this.widget=this.onClose=null}function r(n){return typeof n=="string"?n:n.text}function e(n,t){function f(n,i){var f;f=typeof i!="string"?function(n){return i(n,t)}:r.hasOwnProperty(i)?r[i]:i;u[n]=f}var r={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(-t.menuSize()+1,!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},u=n.customKeys?{}:r,i;if(n.customKeys)for(i in n.customKeys)n.customKeys.hasOwnProperty(i)&&f(i,n.customKeys[i]);if(n.extraKeys)for(i in n.extraKeys)n.extraKeys.hasOwnProperty(i)&&f(i,n.extraKeys[i]);return u}function u(n,t){while(t&&t!=n){if(t.nodeName.toUpperCase()==="LI"&&t.parentNode==n)return t;t=t.parentNode}}function t(t,i){var p,y,w,b,k,et,ut;this.completion=t;this.data=i;var h=this,s=t.cm,l=t.options,o=this.hints=document.createElement("ul");for(o.className="CodeMirror-hints",this.selectedHint=l.getDefaultSelection?l.getDefaultSelection(s,l,i):0,p=i.list,y=0;y<p.length;++y){var d=o.appendChild(document.createElement("li")),v=p[y],nt=f+(y!=this.selectedHint?"":" "+n);v.className!=null&&(nt=v.className+" "+nt);d.className=nt;v.render?v.render(d,i,v):d.appendChild(document.createTextNode(v.displayText||r(v)));d.hintId=y}var a=s.cursorCoords(l.alignWithWord!==!1?i.from:null),tt=a.left,it=a.bottom,ft=!0;o.style.left=tt+"px";o.style.top=it+"px";w=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth);b=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(l.container||document.body).appendChild(o);var c=o.getBoundingClientRect(),rt=c.right-w,g=c.bottom-b;if(rt>0&&(c.right-c.left>w&&(o.style.width=w-5+"px",rt-=c.right-c.left-w),o.style.left=(tt=a.left-rt)+"px"),g>0&&(k=c.bottom-c.top,c.top-(a.bottom-a.top)-k>0?(g=k+(a.bottom-a.top),ft=!1):k>b&&(o.style.height=b-5+"px",g-=k-b),o.style.top=(it=a.bottom-g)+"px"),s.addKeyMap(this.keyMap=e(l,{moveFocus:function(n,t){h.changeActive(h.selectedHint+n,t)},setFocus:function(n){h.changeActive(n)},menuSize:function(){return h.screenAmount()},length:p.length,close:function(){t.close()},pick:function(){h.pick()}})),l.closeOnUnfocus!==!1){s.on("blur",this.onBlur=function(){et=setTimeout(function(){t.close()},100)});s.on("focus",this.onFocus=function(){clearTimeout(et)})}ut=s.getScrollInfo();s.on("scroll",this.onScroll=function(){var i=s.getScrollInfo(),r=s.getWrapperElement().getBoundingClientRect(),u=it+ut.top-i.top,n=u-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(ft||(n+=o.offsetHeight),n<=r.top||n>=r.bottom)return t.close();o.style.top=u+"px";o.style.left=tt+ut.left-i.left+"px"});CodeMirror.on(o,"dblclick",function(n){var t=u(o,n.target||n.srcElement);t&&t.hintId!=null&&(h.changeActive(t.hintId),h.pick())});CodeMirror.on(o,"click",function(n){var t=u(o,n.target||n.srcElement);t&&t.hintId!=null&&(h.changeActive(t.hintId),l.completeOnSingleClick&&h.pick())});CodeMirror.on(o,"mousedown",function(){setTimeout(function(){s.focus()},20)});return CodeMirror.signal(i,"select",p[0],o.firstChild),!0}var f="CodeMirror-hint",n="CodeMirror-hint-active";CodeMirror.showHint=function(n,t,r){if(!n.somethingSelected()){if(t==null){if(r&&r.async)return;t=CodeMirror.hint.auto}n.state.completionActive&&n.state.completionActive.close();var u=n.state.completionActive=new i(n,t,r||{});if(CodeMirror.signal(n,"startCompletion",n),u.options.async)t(n,function(n){u.showHints(n)},u.options);else return u.showHints(t(n,u.options))}};i.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.widget&&this.widget.close(),this.onClose&&this.onClose(),CodeMirror.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(n,t){var i=n.list[t];i.hint?i.hint(this.cm,n,i):this.cm.replaceRange(r(i),n.from,n.to);CodeMirror.signal(n,"pick",i);this.close()},showHints:function(n){if(!n||!n.list.length||!this.active())return this.close();this.options.completeSingle!=!1&&n.list.length==1?this.pick(n,0):this.showWidget(n)},showWidget:function(n){function e(){u||(u=!0,i.close(),i.cm.off("cursorActivity",s),n&&CodeMirror.signal(n,"close"))}function v(){u||(CodeMirror.signal(n,"update"),i.options.async?i.getHints(i.cm,o,i.options):o(i.getHints(i.cm,i.options)))}function o(r){if(n=r,!u){if(!n||!n.list.length)return e();i.widget=new t(i,n)}}function y(){r&&(a(r),r=0)}function s(){y();var n=i.cm.getCursor(),t=i.cm.getLine(n.line);n.line!=f.line||t.length-n.ch!=c-f.ch||n.ch<f.ch||i.cm.somethingSelected()||n.ch&&h.test(t.charAt(n.ch-1))?i.close():(r=l(v),i.widget&&i.widget.close())}this.widget=new t(this,n);CodeMirror.signal(n,"shown");var r=0,i=this,u,h=this.options.closeCharacters||/[\s()\[\]{};:>,]/,f=this.cm.getCursor(),c=this.cm.getLine(f.line).length,l=window.requestAnimationFrame||function(n){return setTimeout(n,1e3/60)},a=window.cancelAnimationFrame||clearTimeout;this.cm.on("cursorActivity",s);this.onClose=e}};t.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null;this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);var n=this.completion.cm;this.completion.options.closeOnUnfocus!==!1&&(n.off("blur",this.onBlur),n.off("focus",this.onFocus));n.off("scroll",this.onScroll)}},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,i){if(t>=this.data.list.length?t=i?this.data.list.length-1:0:t<0&&(t=i?0:this.data.list.length-1),this.selectedHint!=t){var r=this.hints.childNodes[this.selectedHint];r.className=r.className.replace(" "+n,"");r=this.hints.childNodes[this.selectedHint=t];r.className+=" "+n;r.offsetTop<this.hints.scrollTop?this.hints.scrollTop=r.offsetTop-3:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+3);CodeMirror.signal(this.data,"select",this.data.list[this.selectedHint],r)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}};CodeMirror.registerHelper("hint","auto",function(n,t){var u=n.getHelpers(n.getCursor(),"hint"),i,r,f;if(u.length){for(i=0;i<u.length;i++)if(r=u[i](n,t),r&&r.list.length)return r}else if(f=n.getHelper(n.getCursor(),"hintWords"),f)return CodeMirror.hint.fromList(n,{words:f})});CodeMirror.registerHelper("hint","fromList",function(n,t){for(var e,r=n.getCursor(),i=n.getTokenAt(r),u=[],f=0;f<t.words.length;f++)e=t.words[f],e.slice(0,i.string.length)==i.string&&u.push(e);if(u.length)return{list:u,from:CodeMirror.Pos(r.line,i.start),to:CodeMirror.Pos(r.line,i.end)}});CodeMirror.commands.autocomplete=CodeMirror.showHint})();
/*
//# sourceMappingURL=show-hint.min.js.map
*/